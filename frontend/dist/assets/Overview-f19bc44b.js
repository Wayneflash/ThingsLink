import{_ as at,u as ot,b as f,s as it,v as lt,x as nt,d as W,y as rt,o as d,e as c,f as t,z as k,t as i,A as m,g as w,w as _,B as E,F as H,C as F,r as C,E as dt,D as T,q as b,G as ct}from"./index-d25c41ea.js";import{i as G}from"./index-18acf776.js";const vt={class:"dashboard-container"},ut={class:"stats-cards"},pt={class:"stat-icon-wrapper"},ht={key:0,class:"stat-trend"},ft={class:"stat-info"},gt={class:"stat-value"},mt={class:"stat-detail"},wt={class:"online"},_t={class:"offline"},yt={class:"stat-card stat-card-success"},Ct={class:"stat-icon-wrapper"},bt={key:0,class:"stat-trend"},zt={class:"trend-up"},Dt={class:"stat-info"},xt={class:"stat-value"},St={class:"stat-detail"},kt={style:{color:"#999"}},Tt={class:"stat-card stat-card-warning"},Lt={class:"stat-info"},Mt={class:"stat-value"},At={class:"stat-card stat-card-info"},Nt={class:"stat-icon-wrapper"},Bt={key:0,class:"stat-trend"},Rt={class:"stat-info"},$t={class:"stat-value"},Vt={class:"stat-detail"},Ot={style:{color:"#999"}},Wt={class:"stat-card stat-card-danger"},Et={class:"stat-icon-wrapper"},Ht={key:0,class:"stat-badge"},Ft={class:"stat-info"},Gt={class:"stat-value"},qt={class:"stat-detail"},Pt={class:"critical"},Yt={class:"warning"},jt={class:"stat-card stat-card-warning-alt"},Kt={class:"stat-info"},Ut={class:"stat-value"},Xt={class:"charts-row"},Jt={class:"chart-card"},Qt={class:"chart-header"},Zt={class:"chart-actions"},It={class:"chart-card"},te={class:"charts-row"},ee={class:"chart-card"},se={class:"chart-card"},ae={class:"group-stats-list"},oe={class:"group-stat-header"},ie={class:"group-name"},le={class:"group-count"},ne={class:"group-stat-bar"},re={class:"group-stat-bar-info"},de={class:"online-count"},ce={class:"offline-count"},ve={key:0,class:"empty-state"},ue={class:"bottom-row"},pe={class:"info-card"},he={class:"card-header"},fe={class:"alarm-list"},ge=["onClick"],me={class:"alarm-icon-wrapper"},we={class:"alarm-icon"},_e={key:0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ye={key:1,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ce={key:2,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},be={class:"alarm-content"},ze={class:"alarm-title"},De={class:"alarm-desc"},xe={class:"alarm-time"},Se={class:"alarm-status"},ke={key:0,class:"empty-state"},Te={class:"info-card"},Le={class:"card-header"},Me={class:"device-list"},Ae=["onClick"],Ne={class:"device-icon-wrapper"},Be={class:"device-info"},Re={class:"device-name"},$e={class:"device-meta"},Ve={class:"device-status"},Oe={key:0,class:"empty-state"},We={__name:"Overview",setup(Ee){const D=ot(),a=f({totalDevices:0,onlineDevices:0,offlineDevices:0,todayDataCount:0,yesterdayDataCount:0,alarmCount:0,onlineRate:0,deviceTrend:0,dataTrend:0,productDistribution:[],recentDevices:[],productCount:0,todayAlarmCount:0,todayCriticalCount:0,todayWarningCount:0}),L=f(null),M=f(null),A=f(null);let u=null,p=null,h=null;const N=f(!1),B=f(!1),R=f(!1),z=f("24h"),x=f([]),S=f([]);let $=null;it(()=>a.value.totalDevices===0?0:Math.round(a.value.onlineDevices/a.value.totalDevices*100));const q=async()=>{try{const s=await C.post("/devices/statistics");if(console.log("ç»Ÿè®¡æ•°æ®:",s),s){const e=s.totalDevices>0?Math.round(s.onlineDevices/s.totalDevices*100):0,r=(s.recentDevices||[]).slice(0,8).map(n=>{var v;if(!n.productName&&n.productId){const o=(v=s.productDistribution)==null?void 0:v.find(g=>g.productId===n.productId);o&&(n.productName=o.productName)}return n}),l=await Q();a.value={totalDevices:s.totalDevices||0,onlineDevices:s.onlineDevices||0,offlineDevices:s.offlineDevices||0,todayDataCount:s.todayDataCount||0,yesterdayDataCount:0,alarmCount:l.total||0,unhandledAlarmCount:l.unhandled||0,criticalCount:l.critical||0,warningCount:l.warning||0,infoCount:l.info||0,onlineRate:e,deviceTrend:0,dataTrend:0,productDistribution:s.productDistribution||[],recentDevices:r,productCount:s.productCount||0,todayAlarmCount:l.todayAlarmCount||0,todayCriticalCount:l.todayCriticalCount||0,todayWarningCount:l.todayWarningCount||0}}}catch(s){console.error("åŠ è½½ç»Ÿè®¡æ•°æ®å¤±è´¥:",s),dt.error("åŠ è½½ç»Ÿè®¡æ•°æ®å¤±è´¥")}},V=async()=>{if(L.value){N.value=!0;try{const s=await C.post("/statistics/data-trend",{range:z.value}),e=s.timeLabels||[],r=s.dataCounts||[];await T(),u||(u=G(L.value));const l={tooltip:{trigger:"axis",backgroundColor:"rgba(50, 50, 50, 0.9)",borderColor:"transparent",textStyle:{color:"#fff"}},grid:{left:"3%",right:"4%",bottom:"3%",top:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e,axisLine:{lineStyle:{color:"#e0e0e0"}},axisLabel:{color:"#999",fontSize:12}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#999",fontSize:12},splitLine:{lineStyle:{color:"#f0f0f0",type:"dashed"}}},series:[{name:"æ•°æ®é‡",type:"line",smooth:!0,data:r,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(102, 126, 234, 0.3)"},{offset:1,color:"rgba(102, 126, 234, 0.05)"}]}},lineStyle:{color:"#667eea",width:3},itemStyle:{color:"#667eea"},symbol:"circle",symbolSize:6}]};u.setOption(l),window.addEventListener("resize",()=>{u==null||u.resize()})}catch(s){console.error("åŠ è½½æ•°æ®è¶‹åŠ¿å¤±è´¥:",s)}finally{N.value=!1}}},X=async()=>{if(!(!M.value||a.value.productDistribution.length===0)){B.value=!0;try{await T(),p||(p=G(M.value));const s=["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe","#11998e","#38ef7d"],e=a.value.productDistribution.map((l,n)=>({value:l.count,name:l.productName,itemStyle:{color:s[n%s.length]}})),r={tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},legend:{orient:"vertical",right:10,top:"center",textStyle:{color:"#666",fontSize:12}},series:[{type:"pie",radius:["40%","70%"],center:["35%","50%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:8,borderColor:"#fff",borderWidth:2},label:{show:!0,formatter:`{b}
{c}å° ({d}%)`,fontSize:12},emphasis:{label:{show:!0,fontSize:14,fontWeight:"bold"}},data:e}]};p.setOption(r),window.addEventListener("resize",()=>{p==null||p.resize()})}catch(s){console.error("åŠ è½½äº§å“åˆ†å¸ƒå›¾å¤±è´¥:",s)}finally{B.value=!1}}},J=async()=>{if(A.value){R.value=!0;try{await T(),h||(h=G(A.value));const s={tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},legend:{orient:"vertical",right:10,top:"center",textStyle:{color:"#666",fontSize:12}},series:[{type:"pie",radius:"65%",center:["40%","50%"],data:[{value:a.value.onlineDevices,name:"åœ¨çº¿",itemStyle:{color:"#67c23a"}},{value:a.value.offlineDevices,name:"ç¦»çº¿",itemStyle:{color:"#e6a23c"}}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{show:!0,formatter:`{b}
{c}å° ({d}%)`,fontSize:14}}]};h.setOption(s),window.addEventListener("resize",()=>{h==null||h.resize()})}catch(s){console.error("åŠ è½½çŠ¶æ€åˆ†å¸ƒå›¾å¤±è´¥:",s)}finally{R.value=!1}}},P=async()=>{try{const s=await C.post("/devices/list",{page:1,pageSize:1e4});console.log("è®¾å¤‡åˆ—è¡¨æ•°æ®:",s);const e=(s==null?void 0:s.list)||[],r={};e.forEach(l=>{const n=l.groupId||0,v=l.groupName||"æœªåˆ†ç»„";r[n]||(r[n]={groupId:n,groupName:v,deviceCount:0,onlineCount:0,offlineCount:0}),r[n].deviceCount++,l.status===1?r[n].onlineCount++:r[n].offlineCount++}),x.value=Object.values(r).sort((l,n)=>n.deviceCount-l.deviceCount).slice(0,5)}catch(s){console.error("åŠ è½½åˆ†ç»„ç»Ÿè®¡å¤±è´¥:",s),x.value=[]}},Q=async()=>{try{const s=await C.post("/alarm-log/statistics");console.log("æŠ¥è­¦ç»Ÿè®¡æ•°æ®:",s);const e=new Date,r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0),l=new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999),n=await C.post("/alarm-log/list",{page:1,pageSize:1e4,startTime:formatDateTime(r),endTime:formatDateTime(l)}),v=(n==null?void 0:n.list)||[],o=v.filter(O=>O.alarmLevel==="critical").length,g=v.filter(O=>O.alarmLevel==="warning").length;return{total:(s==null?void 0:s.total)||0,unhandled:(s==null?void 0:s.unhandled)||0,critical:(s==null?void 0:s.critical)||0,warning:(s==null?void 0:s.warning)||0,info:(s==null?void 0:s.info)||0,todayAlarmCount:v.length,todayCriticalCount:o,todayWarningCount:g}}catch(s){return console.error("åŠ è½½æŠ¥è­¦ç»Ÿè®¡å¤±è´¥:",s),{total:0,unhandled:0,critical:0,warning:0,info:0,todayAlarmCount:0,todayCriticalCount:0,todayWarningCount:0}}},Y=async()=>{try{const s=await C.post("/alarm-log/list",{page:1,pageSize:5,status:0});console.log("æœ€è¿‘æŠ¥è­¦æ•°æ®:",s),S.value=(s==null?void 0:s.list)||[]}catch(s){console.error("åŠ è½½æœ€è¿‘æŠ¥è­¦å¤±è´¥:",s),S.value=[]}},Z=s=>a.value.totalDevices===0?0:Math.round(s/a.value.totalDevices*100),y=s=>s>=1e4?(s/1e4).toFixed(1)+"W":s>=1e3?(s/1e3).toFixed(1)+"K":s.toString(),j=s=>s>0?`+${s}%`:`${s}%`,K=s=>{if(!s)return"-";const e=new Date(s);if(isNaN(e.getTime()))return"-";const r=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),v=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0"),g=String(e.getSeconds()).padStart(2,"0");return`${r}-${l}-${n} ${v}:${o}:${g}`},U=()=>{D.push("/devices")},I=()=>{D.push("/alarms")},tt=s=>{D.push(`/devices/${s}`)},et=s=>{D.push({path:"/alarms",query:{alarmId:s}})},st=async()=>{await q(),await P(),await Y(),await T(),setTimeout(()=>{V(),X(),J()},300)};return lt(()=>{st(),$=setInterval(()=>{q(),P(),Y()},3e4)}),nt(()=>{$&&clearInterval($),u==null||u.dispose(),p==null||p.dispose(),h==null||h.dispose(),window.removeEventListener("resize",()=>{u==null||u.resize(),p==null||p.resize(),h==null||h.resize()})}),(s,e)=>{const r=W("el-button"),l=W("el-button-group"),n=W("el-tag"),v=rt("loading");return d(),c("div",vt,[t("div",ut,[t("div",{class:"stat-card stat-card-primary",onClick:U},[t("div",pt,[e[2]||(e[2]=t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z",fill:"white"})])],-1)),a.value.deviceTrend!==0?(d(),c("div",ht,[t("span",{class:k(a.value.deviceTrend>0?"trend-up":"trend-down")},i(a.value.deviceTrend>0?"â†‘":"â†“")+" "+i(Math.abs(a.value.deviceTrend)),3)])):m("",!0)]),t("div",ft,[e[3]||(e[3]=t("div",{class:"stat-label"},"è®¾å¤‡æ€»æ•°",-1)),t("div",gt,i(y(a.value.totalDevices)),1),t("div",mt,[t("span",wt,"åœ¨çº¿ "+i(a.value.onlineDevices),1),t("span",_t,"ç¦»çº¿ "+i(a.value.offlineDevices),1)])])]),t("div",yt,[t("div",Ct,[e[4]||(e[4]=t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",fill:"white"})])],-1)),a.value.onlineRate?(d(),c("div",bt,[t("span",zt,i(a.value.onlineRate)+"%",1)])):m("",!0)]),t("div",Dt,[e[5]||(e[5]=t("div",{class:"stat-label"},"åœ¨çº¿è®¾å¤‡",-1)),t("div",xt,i(y(a.value.onlineDevices)),1),t("div",St,[t("span",kt,"åœ¨çº¿ç‡ "+i(a.value.onlineRate||0)+"%",1)])])]),t("div",Tt,[e[8]||(e[8]=t("div",{class:"stat-icon-wrapper"},[t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z",fill:"white"})])])],-1)),t("div",Lt,[e[6]||(e[6]=t("div",{class:"stat-label"},"äº§å“ç±»å‹",-1)),t("div",Mt,i(y(a.value.productCount||0)),1),e[7]||(e[7]=t("div",{class:"stat-detail"},[t("span",{style:{color:"#999"}},"å·²åˆ›å»ºäº§å“")],-1))])]),t("div",At,[t("div",Nt,[e[9]||(e[9]=t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z",fill:"white"})])],-1)),a.value.dataTrend!==0?(d(),c("div",Bt,[t("span",{class:k(a.value.dataTrend>0?"trend-up":"trend-down")},i(a.value.dataTrend>0?"â†‘":"â†“")+" "+i(j(Math.abs(a.value.dataTrend))),3)])):m("",!0)]),t("div",Rt,[e[10]||(e[10]=t("div",{class:"stat-label"},"ä»Šæ—¥æ•°æ®é‡",-1)),t("div",$t,i(y(a.value.todayDataCount)),1),t("div",Vt,[t("span",Ot,"è¾ƒæ˜¨æ—¥ "+i(a.value.dataTrend>0?"+":"")+i(j(a.value.dataTrend)),1)])])]),t("div",Wt,[t("div",Et,[e[11]||(e[11]=t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #f56c6c 0%, #ff8a80 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z",fill:"white"})])],-1)),a.value.unhandledAlarmCount>0?(d(),c("div",Ht,i(a.value.unhandledAlarmCount),1)):m("",!0)]),t("div",Ft,[e[12]||(e[12]=t("div",{class:"stat-label"},"ä»Šæ—¥æŠ¥è­¦",-1)),t("div",Gt,i(y(a.value.todayAlarmCount||0)),1),t("div",qt,[t("span",Pt,"ä¸¥é‡ "+i(a.value.todayCriticalCount||0),1),t("span",Yt,"è­¦å‘Š "+i(a.value.todayWarningCount||0),1)])])]),t("div",jt,[e[15]||(e[15]=t("div",{class:"stat-icon-wrapper"},[t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #ff9800 0%, #ffb74d 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z",fill:"white"})])])],-1)),t("div",Kt,[e[13]||(e[13]=t("div",{class:"stat-label"},"æœªå¤„ç†",-1)),t("div",Ut,i(y(a.value.unhandledAlarmCount||0)),1),e[14]||(e[14]=t("div",{class:"stat-detail"},[t("span",{style:{color:"#999"}},"å¾…å¤„ç†æŠ¥è­¦")],-1))])])]),t("div",Xt,[t("div",Jt,[t("div",Qt,[e[18]||(e[18]=t("div",{class:"chart-title-wrapper"},[t("span",{class:"chart-icon"},"ğŸ“ˆ"),t("span",{class:"chart-title"},"æ•°æ®ä¸ŠæŠ¥è¶‹åŠ¿ï¼ˆæœ€è¿‘24å°æ—¶ï¼‰")],-1)),t("div",Zt,[w(l,null,{default:_(()=>[w(r,{type:z.value==="24h"?"primary":"",size:"small",onClick:e[0]||(e[0]=o=>{z.value="24h",V()})},{default:_(()=>[...e[16]||(e[16]=[b("24å°æ—¶",-1)])]),_:1},8,["type"]),w(r,{type:z.value==="7d"?"primary":"",size:"small",onClick:e[1]||(e[1]=o=>{z.value="7d",V()})},{default:_(()=>[...e[17]||(e[17]=[b("7å¤©",-1)])]),_:1},8,["type"])]),_:1})])]),E(t("div",{ref_key:"trendChartRef",ref:L,class:"chart-container"},null,512),[[v,N.value]])]),t("div",It,[e[19]||(e[19]=t("div",{class:"chart-header"},[t("div",{class:"chart-title-wrapper"},[t("span",{class:"chart-icon"},"ğŸ­"),t("span",{class:"chart-title"},"äº§å“åˆ†å¸ƒ")])],-1)),E(t("div",{ref_key:"productChartRef",ref:M,class:"chart-container"},null,512),[[v,B.value]])])]),t("div",te,[t("div",ee,[e[20]||(e[20]=t("div",{class:"chart-header"},[t("div",{class:"chart-title-wrapper"},[t("span",{class:"chart-icon"},"ğŸ“Š"),t("span",{class:"chart-title"},"è®¾å¤‡çŠ¶æ€åˆ†å¸ƒ")])],-1)),E(t("div",{ref_key:"statusChartRef",ref:A,class:"chart-container"},null,512),[[v,R.value]])]),t("div",se,[e[22]||(e[22]=t("div",{class:"chart-header"},[t("div",{class:"chart-title-wrapper"},[t("span",{class:"chart-icon"},"ğŸ“"),t("span",{class:"chart-title"},"è®¾å¤‡åˆ†ç»„ç»Ÿè®¡")])],-1)),t("div",ae,[(d(!0),c(H,null,F(x.value,o=>(d(),c("div",{key:o.groupId,class:"group-stat-item"},[t("div",oe,[t("span",ie,i(o.groupName||"æœªåˆ†ç»„"),1),t("span",le,i(o.deviceCount)+" å°",1)]),t("div",ne,[t("div",{class:"group-stat-bar-fill",style:ct({width:Z(o.deviceCount)+"%"})},[t("div",re,[t("span",de,"åœ¨çº¿ "+i(o.onlineCount),1),t("span",ce,"ç¦»çº¿ "+i(o.offlineCount),1)])],4)])]))),128)),x.value.length===0?(d(),c("div",ve,[...e[21]||(e[21]=[t("span",{style:{"font-size":"48px",opacity:"0.3"}},"ğŸ“­",-1),t("p",null,"æš‚æ— åˆ†ç»„æ•°æ®",-1)])])):m("",!0)])])]),t("div",ue,[t("div",pe,[t("div",he,[e[24]||(e[24]=t("div",{class:"card-title-wrapper"},[t("span",{class:"card-icon"},"ğŸ””"),t("span",{class:"card-title"},"æœ€è¿‘æŠ¥è­¦")],-1)),w(r,{type:"text",onClick:I},{default:_(()=>[...e[23]||(e[23]=[b("æŸ¥çœ‹å…¨éƒ¨ â†’",-1)])]),_:1})]),t("div",fe,[(d(!0),c(H,null,F(S.value,o=>(d(),c("div",{key:o.id,class:k(["alarm-item",`alarm-level-${o.alarmLevel}`]),onClick:g=>et(o.id)},[t("div",me,[t("div",we,[o.alarmLevel==="critical"?(d(),c("svg",_e,[...e[25]||(e[25]=[t("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z",fill:"currentColor"},null,-1)])])):o.alarmLevel==="warning"?(d(),c("svg",ye,[...e[26]||(e[26]=[t("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z",fill:"currentColor"},null,-1)])])):(d(),c("svg",Ce,[...e[27]||(e[27]=[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z",fill:"currentColor"},null,-1)])]))])]),t("div",be,[t("div",ze,i(o.deviceName||o.deviceCode),1),t("div",De,i(o.alarmMessage),1),t("div",xe,i(K(o.triggerTime)),1)]),t("div",Se,[w(n,{type:o.status===0?"warning":"success",size:"small"},{default:_(()=>[b(i(o.status===0?"æœªå¤„ç†":"å·²å¤„ç†"),1)]),_:2},1032,["type"])])],10,ge))),128)),S.value.length===0?(d(),c("div",ke,[...e[28]||(e[28]=[t("span",{style:{"font-size":"48px",opacity:"0.3"}},"ğŸ””",-1),t("p",null,"æš‚æ— æŠ¥è­¦æ•°æ®",-1)])])):m("",!0)])]),t("div",Te,[t("div",Le,[e[30]||(e[30]=t("div",{class:"card-title-wrapper"},[t("span",{class:"card-icon"},"â°"),t("span",{class:"card-title"},"æœ€è¿‘æ´»è·ƒè®¾å¤‡")],-1)),w(r,{type:"text",onClick:U},{default:_(()=>[...e[29]||(e[29]=[b("æŸ¥çœ‹å…¨éƒ¨ â†’",-1)])]),_:1})]),t("div",Me,[(d(!0),c(H,null,F(a.value.recentDevices,o=>(d(),c("div",{key:o.deviceCode,class:"device-item",onClick:g=>tt(o.deviceCode)},[t("div",Ne,[e[31]||(e[31]=t("div",{class:"device-icon"},[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z",fill:"currentColor"})])],-1)),t("span",{class:k(o.status===1?"status-dot online":"status-dot offline")},null,2)]),t("div",Be,[t("div",Re,i(o.deviceName),1),t("div",$e,[t("span",null,i(o.productName),1),e[32]||(e[32]=t("span",{class:"separator"},"Â·",-1)),t("span",null,i(K(o.lastOnlineTime)),1)])]),t("div",Ve,[w(n,{type:o.status===1?"success":"warning",size:"small"},{default:_(()=>[b(i(o.status===1?"åœ¨çº¿":"ç¦»çº¿"),1)]),_:2},1032,["type"])])],8,Ae))),128)),a.value.recentDevices.length===0?(d(),c("div",Oe,[...e[33]||(e[33]=[t("span",{style:{"font-size":"48px",opacity:"0.3"}},"ğŸ“­",-1),t("p",null,"æš‚æ— è®¾å¤‡æ•°æ®",-1)])])):m("",!0)])])])])}}},Ge=at(We,[["__scopeId","data-v-9d9ccea1"]]);export{Ge as default};
