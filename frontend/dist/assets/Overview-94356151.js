import{_ as ot,u as it,r as g,q as nt,s as lt,v as rt,c as O,x as dt,o as d,d as c,e as t,y as k,t as i,z as m,f as w,w as _,A as W,F as E,B as F,C,E as ct,D as T,p as b,G as vt}from"./index-6b170f93.js";import{i as G}from"./index-18acf776.js";const ut={class:"dashboard-container"},pt={class:"stats-cards"},ht={class:"stat-icon-wrapper"},gt={key:0,class:"stat-trend"},ft={class:"stat-info"},mt={class:"stat-value"},wt={class:"stat-detail"},_t={class:"online"},yt={class:"offline"},Ct={class:"stat-card stat-card-success"},bt={class:"stat-icon-wrapper"},zt={key:0,class:"stat-trend"},Dt={class:"trend-up"},St={class:"stat-info"},xt={class:"stat-value"},kt={class:"stat-detail"},Tt={style:{color:"#999"}},Lt={class:"stat-card stat-card-warning"},Mt={class:"stat-info"},At={class:"stat-value"},$t={class:"stat-card stat-card-info"},Nt={class:"stat-icon-wrapper"},Bt={key:0,class:"stat-trend"},Rt={class:"stat-info"},Vt={class:"stat-value"},Ht={class:"stat-detail"},Ot={style:{color:"#999"}},Wt={class:"stat-card stat-card-danger"},Et={class:"stat-icon-wrapper"},Ft={key:0,class:"stat-badge"},Gt={class:"stat-info"},Yt={class:"stat-value"},qt={class:"stat-detail"},Pt={class:"critical"},jt={class:"warning"},Kt={class:"stat-card stat-card-warning-alt"},Ut={class:"stat-info"},Xt={class:"stat-value"},Jt={class:"charts-row"},Qt={class:"chart-card"},Zt={class:"chart-header"},It={class:"chart-actions"},te={class:"chart-card"},ee={class:"charts-row"},se={class:"chart-card"},ae={class:"chart-card"},oe={class:"group-stats-list"},ie={class:"group-stat-header"},ne={class:"group-name"},le={class:"group-count"},re={class:"group-stat-bar"},de={class:"group-stat-bar-info"},ce={class:"online-count"},ve={class:"offline-count"},ue={key:0,class:"empty-state"},pe={class:"bottom-row"},he={class:"info-card"},ge={class:"card-header"},fe={class:"alarm-list"},me=["onClick"],we={class:"alarm-icon-wrapper"},_e={class:"alarm-icon"},ye={key:0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ce={key:1,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},be={key:2,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ze={class:"alarm-content"},De={class:"alarm-title"},Se={class:"alarm-desc"},xe={class:"alarm-time"},ke={class:"alarm-status"},Te={key:0,class:"empty-state"},Le={class:"info-card"},Me={class:"card-header"},Ae={class:"device-list"},$e=["onClick"],Ne={class:"device-icon-wrapper"},Be={class:"device-info"},Re={class:"device-name"},Ve={class:"device-meta"},He={class:"device-status"},Oe={key:0,class:"empty-state"},We={__name:"Overview",setup(Ee){const D=it(),o=g({totalDevices:0,onlineDevices:0,offlineDevices:0,todayDataCount:0,yesterdayDataCount:0,alarmCount:0,onlineRate:0,deviceTrend:0,dataTrend:0,productDistribution:[],recentDevices:[],productCount:0,todayAlarmCount:0,todayCriticalCount:0,todayWarningCount:0}),L=g(null),M=g(null),A=g(null);let u=null,p=null,h=null;const $=g(!1),N=g(!1),B=g(!1),z=g("24h"),S=g([]),x=g([]);let R=null;nt(()=>o.value.totalDevices===0?0:Math.round(o.value.onlineDevices/o.value.totalDevices*100));const Y=async()=>{try{const s=await C.post("/devices/statistics");if(console.log("ç»Ÿè®¡æ•°æ®:",s),s){const e=s.totalDevices>0?Math.round(s.onlineDevices/s.totalDevices*100):0,r=(s.recentDevices||[]).slice(0,8).map(l=>{var v;if(!l.productName&&l.productId){const a=(v=s.productDistribution)==null?void 0:v.find(f=>f.productId===l.productId);a&&(l.productName=a.productName)}return l}),n=await Z();o.value={totalDevices:s.totalDevices||0,onlineDevices:s.onlineDevices||0,offlineDevices:s.offlineDevices||0,todayDataCount:s.todayDataCount||0,yesterdayDataCount:0,alarmCount:n.total||0,unhandledAlarmCount:n.unhandled||0,criticalCount:n.critical||0,warningCount:n.warning||0,infoCount:n.info||0,onlineRate:e,deviceTrend:0,dataTrend:0,productDistribution:s.productDistribution||[],recentDevices:r,productCount:s.productCount||0,todayAlarmCount:n.todayAlarmCount||0,todayCriticalCount:n.todayCriticalCount||0,todayWarningCount:n.todayWarningCount||0}}}catch(s){console.error("åŠ è½½ç»Ÿè®¡æ•°æ®å¤±è´¥:",s),ct.error("åŠ è½½ç»Ÿè®¡æ•°æ®å¤±è´¥")}},V=async()=>{if(L.value){$.value=!0;try{const s=await C.post("/statistics/data-trend",{range:z.value}),e=s.timeLabels||[],r=s.dataCounts||[];await T(),u||(u=G(L.value));const n={tooltip:{trigger:"axis",backgroundColor:"rgba(50, 50, 50, 0.9)",borderColor:"transparent",textStyle:{color:"#fff"}},grid:{left:"3%",right:"4%",bottom:"3%",top:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e,axisLine:{lineStyle:{color:"#e0e0e0"}},axisLabel:{color:"#999",fontSize:12}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#999",fontSize:12},splitLine:{lineStyle:{color:"#f0f0f0",type:"dashed"}}},series:[{name:"æ•°æ®é‡",type:"line",smooth:!0,data:r,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(102, 126, 234, 0.3)"},{offset:1,color:"rgba(102, 126, 234, 0.05)"}]}},lineStyle:{color:"#667eea",width:3},itemStyle:{color:"#667eea"},symbol:"circle",symbolSize:6}]};u.setOption(n),window.addEventListener("resize",()=>{u==null||u.resize()})}catch(s){console.error("åŠ è½½æ•°æ®è¶‹åŠ¿å¤±è´¥:",s)}finally{$.value=!1}}},J=async()=>{if(!(!M.value||o.value.productDistribution.length===0)){N.value=!0;try{await T(),p||(p=G(M.value));const s=["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe","#11998e","#38ef7d"],e=o.value.productDistribution.map((n,l)=>({value:n.count,name:n.productName,itemStyle:{color:s[l%s.length]}})),r={tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},legend:{orient:"vertical",right:10,top:"center",textStyle:{color:"#666",fontSize:12}},series:[{type:"pie",radius:["40%","70%"],center:["35%","50%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:8,borderColor:"#fff",borderWidth:2},label:{show:!0,formatter:`{b}
{c}å° ({d}%)`,fontSize:12},emphasis:{label:{show:!0,fontSize:14,fontWeight:"bold"}},data:e}]};p.setOption(r),window.addEventListener("resize",()=>{p==null||p.resize()})}catch(s){console.error("åŠ è½½äº§å“åˆ†å¸ƒå›¾å¤±è´¥:",s)}finally{N.value=!1}}},Q=async()=>{if(A.value){B.value=!0;try{await T(),h||(h=G(A.value));const s={tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},legend:{orient:"vertical",right:10,top:"center",textStyle:{color:"#666",fontSize:12}},series:[{type:"pie",radius:"65%",center:["40%","50%"],data:[{value:o.value.onlineDevices,name:"åœ¨çº¿",itemStyle:{color:"#67c23a"}},{value:o.value.offlineDevices,name:"ç¦»çº¿",itemStyle:{color:"#e6a23c"}}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{show:!0,formatter:`{b}
{c}å° ({d}%)`,fontSize:14}}]};h.setOption(s),window.addEventListener("resize",()=>{h==null||h.resize()})}catch(s){console.error("åŠ è½½çŠ¶æ€åˆ†å¸ƒå›¾å¤±è´¥:",s)}finally{B.value=!1}}},q=async()=>{try{const s=await C.post("/devices/list",{page:1,pageSize:1e4});console.log("è®¾å¤‡åˆ—è¡¨æ•°æ®:",s);const e=(s==null?void 0:s.list)||[],r={};e.forEach(n=>{const l=n.groupId||0,v=n.groupName||"æœªåˆ†ç»„";r[l]||(r[l]={groupId:l,groupName:v,deviceCount:0,onlineCount:0,offlineCount:0}),r[l].deviceCount++,n.status===1?r[l].onlineCount++:r[l].offlineCount++}),S.value=Object.values(r).sort((n,l)=>l.deviceCount-n.deviceCount).slice(0,5)}catch(s){console.error("åŠ è½½åˆ†ç»„ç»Ÿè®¡å¤±è´¥:",s),S.value=[]}},Z=async()=>{try{const s=await C.post("/alarm-log/statistics");console.log("æŠ¥è­¦ç»Ÿè®¡æ•°æ®:",s);const e=new Date,r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999),l=await C.post("/alarm-log/list",{page:1,pageSize:1e4,startTime:U(r),endTime:U(n)}),v=(l==null?void 0:l.list)||[],a=v.filter(H=>H.alarmLevel==="critical").length,f=v.filter(H=>H.alarmLevel==="warning").length;return{total:(s==null?void 0:s.total)||0,unhandled:(s==null?void 0:s.unhandled)||0,critical:(s==null?void 0:s.critical)||0,warning:(s==null?void 0:s.warning)||0,info:(s==null?void 0:s.info)||0,todayAlarmCount:v.length,todayCriticalCount:a,todayWarningCount:f}}catch(s){return console.error("åŠ è½½æŠ¥è­¦ç»Ÿè®¡å¤±è´¥:",s),{total:0,unhandled:0,critical:0,warning:0,info:0,todayAlarmCount:0,todayCriticalCount:0,todayWarningCount:0}}},P=async()=>{try{const s=await C.post("/alarm-log/list",{page:1,pageSize:5,status:0});console.log("æœ€è¿‘æŠ¥è­¦æ•°æ®:",s),x.value=(s==null?void 0:s.list)||[]}catch(s){console.error("åŠ è½½æœ€è¿‘æŠ¥è­¦å¤±è´¥:",s),x.value=[]}},I=s=>o.value.totalDevices===0?0:Math.round(s/o.value.totalDevices*100),y=s=>s>=1e4?(s/1e4).toFixed(1)+"W":s>=1e3?(s/1e3).toFixed(1)+"K":s.toString(),j=s=>s>0?`+${s}%`:`${s}%`,K=s=>{if(!s)return"-";const e=new Date(s);if(isNaN(e.getTime()))return"-";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0"),v=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0"),f=String(e.getSeconds()).padStart(2,"0");return`${r}-${n}-${l} ${v}:${a}:${f}`},U=s=>{const e=new Date(s),r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0"),v=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0"),f=String(e.getSeconds()).padStart(2,"0");return`${r}-${n}-${l} ${v}:${a}:${f}`},X=()=>{D.push("/devices")},tt=()=>{D.push("/alarms")},et=s=>{D.push(`/devices/${s}`)},st=s=>{D.push({path:"/alarms",query:{alarmId:s}})},at=async()=>{await Y(),await q(),await P(),await T(),setTimeout(()=>{V(),J(),Q()},300)};return lt(()=>{at(),R=setInterval(()=>{Y(),q(),P()},3e4)}),rt(()=>{R&&clearInterval(R),u==null||u.dispose(),p==null||p.dispose(),h==null||h.dispose(),window.removeEventListener("resize",()=>{u==null||u.resize(),p==null||p.resize(),h==null||h.resize()})}),(s,e)=>{const r=O("el-button"),n=O("el-button-group"),l=O("el-tag"),v=dt("loading");return d(),c("div",ut,[t("div",pt,[t("div",{class:"stat-card stat-card-primary",onClick:X},[t("div",ht,[e[2]||(e[2]=t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z",fill:"white"})])],-1)),o.value.deviceTrend!==0?(d(),c("div",gt,[t("span",{class:k(o.value.deviceTrend>0?"trend-up":"trend-down")},i(o.value.deviceTrend>0?"â†‘":"â†“")+" "+i(Math.abs(o.value.deviceTrend)),3)])):m("",!0)]),t("div",ft,[e[3]||(e[3]=t("div",{class:"stat-label"},"è®¾å¤‡æ€»æ•°",-1)),t("div",mt,i(y(o.value.totalDevices)),1),t("div",wt,[t("span",_t,"åœ¨çº¿ "+i(o.value.onlineDevices),1),t("span",yt,"ç¦»çº¿ "+i(o.value.offlineDevices),1)])])]),t("div",Ct,[t("div",bt,[e[4]||(e[4]=t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",fill:"white"})])],-1)),o.value.onlineRate?(d(),c("div",zt,[t("span",Dt,i(o.value.onlineRate)+"%",1)])):m("",!0)]),t("div",St,[e[5]||(e[5]=t("div",{class:"stat-label"},"åœ¨çº¿è®¾å¤‡",-1)),t("div",xt,i(y(o.value.onlineDevices)),1),t("div",kt,[t("span",Tt,"åœ¨çº¿ç‡ "+i(o.value.onlineRate||0)+"%",1)])])]),t("div",Lt,[e[8]||(e[8]=t("div",{class:"stat-icon-wrapper"},[t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z",fill:"white"})])])],-1)),t("div",Mt,[e[6]||(e[6]=t("div",{class:"stat-label"},"äº§å“ç±»å‹",-1)),t("div",At,i(y(o.value.productCount||0)),1),e[7]||(e[7]=t("div",{class:"stat-detail"},[t("span",{style:{color:"#999"}},"å·²åˆ›å»ºäº§å“")],-1))])]),t("div",$t,[t("div",Nt,[e[9]||(e[9]=t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z",fill:"white"})])],-1)),o.value.dataTrend!==0?(d(),c("div",Bt,[t("span",{class:k(o.value.dataTrend>0?"trend-up":"trend-down")},i(o.value.dataTrend>0?"â†‘":"â†“")+" "+i(j(Math.abs(o.value.dataTrend))),3)])):m("",!0)]),t("div",Rt,[e[10]||(e[10]=t("div",{class:"stat-label"},"ä»Šæ—¥æ•°æ®é‡",-1)),t("div",Vt,i(y(o.value.todayDataCount)),1),t("div",Ht,[t("span",Ot,"è¾ƒæ˜¨æ—¥ "+i(o.value.dataTrend>0?"+":"")+i(j(o.value.dataTrend)),1)])])]),t("div",Wt,[t("div",Et,[e[11]||(e[11]=t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #f56c6c 0%, #ff8a80 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z",fill:"white"})])],-1)),o.value.unhandledAlarmCount>0?(d(),c("div",Ft,i(o.value.unhandledAlarmCount),1)):m("",!0)]),t("div",Gt,[e[12]||(e[12]=t("div",{class:"stat-label"},"ä»Šæ—¥æŠ¥è­¦",-1)),t("div",Yt,i(y(o.value.todayAlarmCount||0)),1),t("div",qt,[t("span",Pt,"ä¸¥é‡ "+i(o.value.todayCriticalCount||0),1),t("span",jt,"è­¦å‘Š "+i(o.value.todayWarningCount||0),1)])])]),t("div",Kt,[e[15]||(e[15]=t("div",{class:"stat-icon-wrapper"},[t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #ff9800 0%, #ffb74d 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z",fill:"white"})])])],-1)),t("div",Ut,[e[13]||(e[13]=t("div",{class:"stat-label"},"æœªå¤„ç†",-1)),t("div",Xt,i(y(o.value.unhandledAlarmCount||0)),1),e[14]||(e[14]=t("div",{class:"stat-detail"},[t("span",{style:{color:"#999"}},"å¾…å¤„ç†æŠ¥è­¦")],-1))])])]),t("div",Jt,[t("div",Qt,[t("div",Zt,[e[18]||(e[18]=t("div",{class:"chart-title-wrapper"},[t("span",{class:"chart-icon"},"ğŸ“ˆ"),t("span",{class:"chart-title"},"æ•°æ®ä¸ŠæŠ¥è¶‹åŠ¿ï¼ˆæœ€è¿‘24å°æ—¶ï¼‰")],-1)),t("div",It,[w(n,null,{default:_(()=>[w(r,{type:z.value==="24h"?"primary":"",size:"small",onClick:e[0]||(e[0]=a=>{z.value="24h",V()})},{default:_(()=>[...e[16]||(e[16]=[b("24å°æ—¶",-1)])]),_:1},8,["type"]),w(r,{type:z.value==="7d"?"primary":"",size:"small",onClick:e[1]||(e[1]=a=>{z.value="7d",V()})},{default:_(()=>[...e[17]||(e[17]=[b("7å¤©",-1)])]),_:1},8,["type"])]),_:1})])]),W(t("div",{ref_key:"trendChartRef",ref:L,class:"chart-container"},null,512),[[v,$.value]])]),t("div",te,[e[19]||(e[19]=t("div",{class:"chart-header"},[t("div",{class:"chart-title-wrapper"},[t("span",{class:"chart-icon"},"ğŸ­"),t("span",{class:"chart-title"},"äº§å“åˆ†å¸ƒ")])],-1)),W(t("div",{ref_key:"productChartRef",ref:M,class:"chart-container"},null,512),[[v,N.value]])])]),t("div",ee,[t("div",se,[e[20]||(e[20]=t("div",{class:"chart-header"},[t("div",{class:"chart-title-wrapper"},[t("span",{class:"chart-icon"},"ğŸ“Š"),t("span",{class:"chart-title"},"è®¾å¤‡çŠ¶æ€åˆ†å¸ƒ")])],-1)),W(t("div",{ref_key:"statusChartRef",ref:A,class:"chart-container"},null,512),[[v,B.value]])]),t("div",ae,[e[22]||(e[22]=t("div",{class:"chart-header"},[t("div",{class:"chart-title-wrapper"},[t("span",{class:"chart-icon"},"ğŸ“"),t("span",{class:"chart-title"},"è®¾å¤‡åˆ†ç»„ç»Ÿè®¡")])],-1)),t("div",oe,[(d(!0),c(E,null,F(S.value,a=>(d(),c("div",{key:a.groupId,class:"group-stat-item"},[t("div",ie,[t("span",ne,i(a.groupName||"æœªåˆ†ç»„"),1),t("span",le,i(a.deviceCount)+" å°",1)]),t("div",re,[t("div",{class:"group-stat-bar-fill",style:vt({width:I(a.deviceCount)+"%"})},[t("div",de,[t("span",ce,"åœ¨çº¿ "+i(a.onlineCount),1),t("span",ve,"ç¦»çº¿ "+i(a.offlineCount),1)])],4)])]))),128)),S.value.length===0?(d(),c("div",ue,[...e[21]||(e[21]=[t("span",{style:{"font-size":"48px",opacity:"0.3"}},"ğŸ“­",-1),t("p",null,"æš‚æ— åˆ†ç»„æ•°æ®",-1)])])):m("",!0)])])]),t("div",pe,[t("div",he,[t("div",ge,[e[24]||(e[24]=t("div",{class:"card-title-wrapper"},[t("span",{class:"card-icon"},"ğŸ””"),t("span",{class:"card-title"},"æœ€è¿‘æŠ¥è­¦")],-1)),w(r,{type:"text",onClick:tt},{default:_(()=>[...e[23]||(e[23]=[b("æŸ¥çœ‹å…¨éƒ¨ â†’",-1)])]),_:1})]),t("div",fe,[(d(!0),c(E,null,F(x.value,a=>(d(),c("div",{key:a.id,class:k(["alarm-item",`alarm-level-${a.alarmLevel}`]),onClick:f=>st(a.id)},[t("div",we,[t("div",_e,[a.alarmLevel==="critical"?(d(),c("svg",ye,[...e[25]||(e[25]=[t("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z",fill:"currentColor"},null,-1)])])):a.alarmLevel==="warning"?(d(),c("svg",Ce,[...e[26]||(e[26]=[t("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z",fill:"currentColor"},null,-1)])])):(d(),c("svg",be,[...e[27]||(e[27]=[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z",fill:"currentColor"},null,-1)])]))])]),t("div",ze,[t("div",De,i(a.deviceName||a.deviceCode),1),t("div",Se,i(a.alarmMessage),1),t("div",xe,i(K(a.triggerTime)),1)]),t("div",ke,[w(l,{type:a.status===0?"warning":"success",size:"small"},{default:_(()=>[b(i(a.status===0?"æœªå¤„ç†":"å·²å¤„ç†"),1)]),_:2},1032,["type"])])],10,me))),128)),x.value.length===0?(d(),c("div",Te,[...e[28]||(e[28]=[t("span",{style:{"font-size":"48px",opacity:"0.3"}},"ğŸ””",-1),t("p",null,"æš‚æ— æŠ¥è­¦æ•°æ®",-1)])])):m("",!0)])]),t("div",Le,[t("div",Me,[e[30]||(e[30]=t("div",{class:"card-title-wrapper"},[t("span",{class:"card-icon"},"â°"),t("span",{class:"card-title"},"æœ€è¿‘æ´»è·ƒè®¾å¤‡")],-1)),w(r,{type:"text",onClick:X},{default:_(()=>[...e[29]||(e[29]=[b("æŸ¥çœ‹å…¨éƒ¨ â†’",-1)])]),_:1})]),t("div",Ae,[(d(!0),c(E,null,F(o.value.recentDevices,a=>(d(),c("div",{key:a.deviceCode,class:"device-item",onClick:f=>et(a.deviceCode)},[t("div",Ne,[e[31]||(e[31]=t("div",{class:"device-icon"},[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z",fill:"currentColor"})])],-1)),t("span",{class:k(a.status===1?"status-dot online":"status-dot offline")},null,2)]),t("div",Be,[t("div",Re,i(a.deviceName),1),t("div",Ve,[t("span",null,i(a.productName),1),e[32]||(e[32]=t("span",{class:"separator"},"Â·",-1)),t("span",null,i(K(a.lastOnlineTime)),1)])]),t("div",He,[w(l,{type:a.status===1?"success":"warning",size:"small"},{default:_(()=>[b(i(a.status===1?"åœ¨çº¿":"ç¦»çº¿"),1)]),_:2},1032,["type"])])],8,$e))),128)),o.value.recentDevices.length===0?(d(),c("div",Oe,[...e[33]||(e[33]=[t("span",{style:{"font-size":"48px",opacity:"0.3"}},"ğŸ“­",-1),t("p",null,"æš‚æ— è®¾å¤‡æ•°æ®",-1)])])):m("",!0)])])])])}}},Ye=ot(We,[["__scopeId","data-v-ef844048"]]);export{Ye as default};
