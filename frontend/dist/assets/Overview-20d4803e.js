import{_ as vt,u as pt,Y as ht,Z as gt,E as K,$ as ft,r as L,a0 as mt,o as v,c as p,b as t,t as r,e as d,w as u,y as E,F as U,d as Y,a1 as q,g as w,a2 as b,a3 as M,i as _,a4 as wt,q as z,a5 as _t,v as yt,a6 as Ct,n as Dt,X as Z,x as Q,B as I,J as bt}from"./index-d915c72b.js";import{i as P}from"./index-18acf776.js";const zt={class:"dashboard-container"},St={class:"stats-cards"},xt={class:"stat-info"},kt={class:"stat-value"},Tt={class:"stat-detail"},Lt={class:"online"},Mt={class:"offline"},$t={class:"stat-info"},At={class:"stat-value"},Nt={class:"stat-detail"},Bt={style:{color:"#999"}},Rt={class:"stat-info"},Vt={class:"stat-value"},Ft={class:"stat-card stat-card-info stat-card-no-click"},Ot={class:"stat-info"},Ht={class:"stat-value"},Wt={class:"stat-detail"},Et={style:{color:"#999"}},Ut={class:"stat-info"},Yt={class:"stat-value"},qt={class:"stat-detail"},Pt={class:"critical"},Gt={class:"warning"},Xt={class:"stat-info"},jt={class:"stat-value"},Jt={class:"charts-row"},Kt={class:"chart-card"},Zt={class:"chart-header"},Qt={class:"chart-title-wrapper"},It={class:"chart-actions"},te={class:"chart-card"},ee={class:"chart-header"},se={class:"chart-title-wrapper"},ae={class:"charts-row"},oe={class:"chart-card"},ie={class:"chart-header"},ne={class:"chart-title-wrapper"},le={class:"chart-card"},re={class:"chart-header"},de={class:"chart-title-wrapper"},ce={class:"group-stats-list"},ue={class:"group-stat-header"},ve={class:"group-name"},pe={class:"group-count"},he={class:"group-stat-bar"},ge={class:"group-stat-bar-info"},fe={class:"online-count"},me={class:"offline-count"},we={key:0,class:"empty-state"},_e={class:"bottom-row"},ye={class:"info-card"},Ce={class:"card-header"},De={class:"card-title-wrapper"},be={class:"alarm-list"},ze=["onClick"],Se={class:"alarm-icon-wrapper"},xe={class:"alarm-icon"},ke={key:0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Te={key:1,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Le={key:2,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Me={class:"alarm-content"},$e={class:"alarm-title"},Ae={class:"alarm-desc"},Ne={class:"alarm-time"},Be={class:"alarm-status"},Re={key:0,class:"empty-state"},Ve={class:"info-card"},Fe={class:"card-header"},Oe={class:"card-title-wrapper"},He={class:"device-list"},We=["onClick"],Ee={class:"device-icon-wrapper"},Ue={class:"device-info"},Ye={class:"device-name"},qe={class:"device-meta"},Pe={class:"device-status"},Ge={key:0,class:"empty-state"},Xe={__name:"Overview",setup(je){const y=pt(),l=w({totalDevices:0,onlineDevices:0,offlineDevices:0,todayDataCount:0,yesterdayDataCount:0,alarmCount:0,onlineRate:0,deviceTrend:0,dataTrend:0,productDistribution:[],recentDevices:[],productCount:0,todayAlarmCount:0,todayCriticalCount:0,todayWarningCount:0,todayUnhandledCount:0}),$=w(null),A=w(null),N=w(null);let h=null,g=null,f=null;const B=w(!1),R=w(!1),V=w(!1),S=w("24h"),k=w([]),T=w([]);let F=null;ht(()=>l.value.totalDevices===0?0:Math.round(l.value.onlineDevices/l.value.totalDevices*100));const G=async()=>{try{const s=await b.post("/devices/statistics");if(console.log("统计数据:",s),s){const e=s.totalDevices>0?Math.round(s.onlineDevices/s.totalDevices*100):0,o=(s.recentDevices||[]).slice(0,8).map(n=>{var c;if(!n.productName&&n.productId){const m=(c=s.productDistribution)==null?void 0:c.find(a=>a.productId===n.productId);m&&(n.productName=m.productName)}return n}),i=await st();l.value={totalDevices:s.totalDevices||0,onlineDevices:s.onlineDevices||0,offlineDevices:s.offlineDevices||0,todayDataCount:s.todayDataCount||0,yesterdayDataCount:0,alarmCount:i.total||0,unhandledAlarmCount:i.unhandled||0,criticalCount:i.critical||0,warningCount:i.warning||0,infoCount:i.info||0,onlineRate:e,deviceTrend:0,dataTrend:0,productDistribution:s.productDistribution||[],recentDevices:o,productCount:s.productCount||0,todayAlarmCount:i.todayAlarmCount||0,todayCriticalCount:i.todayCriticalCount||0,todayWarningCount:i.todayWarningCount||0,todayUnhandledCount:i.todayUnhandledCount||0}}}catch(s){console.error("加载统计数据失败:",s),K.error("加载统计数据失败")}},O=async()=>{if($.value){B.value=!0;try{const s=await b.post("/statistics/data-trend",{range:S.value}),e=s.timeLabels||[],o=s.dataCounts||[];await M(),h||(h=P($.value));const i={tooltip:{trigger:"axis",backgroundColor:"rgba(50, 50, 50, 0.9)",borderColor:"transparent",textStyle:{color:"#fff"}},grid:{left:"3%",right:"4%",bottom:"3%",top:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e,axisLine:{lineStyle:{color:"#e0e0e0"}},axisLabel:{color:"#999",fontSize:12}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#999",fontSize:12},splitLine:{lineStyle:{color:"#f0f0f0",type:"dashed"}}},series:[{name:"数据量",type:"line",smooth:!0,data:o,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(102, 126, 234, 0.3)"},{offset:1,color:"rgba(102, 126, 234, 0.05)"}]}},lineStyle:{color:"#667eea",width:3},itemStyle:{color:"#667eea"},symbol:"circle",symbolSize:6}]};h.setOption(i),window.addEventListener("resize",()=>{h==null||h.resize()})}catch(s){console.error("加载数据趋势失败:",s)}finally{B.value=!1}}},tt=async()=>{if(!(!A.value||l.value.productDistribution.length===0)){R.value=!0;try{await M(),g||(g=P(A.value));const s=["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe","#11998e","#38ef7d"],e=l.value.productDistribution.map((i,n)=>({value:i.count,name:i.productName,itemStyle:{color:s[n%s.length]}})),o={tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},legend:{orient:"vertical",right:10,top:"center",textStyle:{color:"#666",fontSize:12}},series:[{type:"pie",radius:["40%","70%"],center:["35%","50%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:8,borderColor:"#fff",borderWidth:2},label:{show:!0,formatter:`{b}
{c}台 ({d}%)`,fontSize:12},emphasis:{label:{show:!0,fontSize:14,fontWeight:"bold"}},data:e}]};g.setOption(o),window.addEventListener("resize",()=>{g==null||g.resize()})}catch(s){console.error("加载产品分布图失败:",s)}finally{R.value=!1}}},et=async()=>{if(N.value){V.value=!0;try{await M(),f||(f=P(N.value));const s={tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},legend:{orient:"vertical",right:10,top:"center",textStyle:{color:"#666",fontSize:12}},series:[{type:"pie",radius:"65%",center:["40%","50%"],data:[{value:l.value.onlineDevices,name:"在线",itemStyle:{color:"#67c23a"}},{value:l.value.offlineDevices,name:"离线",itemStyle:{color:"#909399"}}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{show:!0,formatter:`{b}
{c}台 ({d}%)`,fontSize:14}}]};f.setOption(s),window.addEventListener("resize",()=>{f==null||f.resize()})}catch(s){console.error("加载状态分布图失败:",s)}finally{V.value=!1}}},X=async()=>{try{const s=await b.post("/devices/list",{page:1,pageSize:1e4});console.log("设备列表数据:",s);const e=(s==null?void 0:s.list)||[],o={};e.forEach(i=>{const n=i.groupId||0,c=i.groupName||"未分组";o[n]||(o[n]={groupId:n,groupName:c,deviceCount:0,onlineCount:0,offlineCount:0}),o[n].deviceCount++,i.status===1?o[n].onlineCount++:o[n].offlineCount++}),k.value=Object.values(o).sort((i,n)=>n.deviceCount-i.deviceCount).slice(0,5)}catch(s){console.error("加载分组统计失败:",s),k.value=[]}},st=async()=>{try{const s=await b.post("/alarm-log/statistics");console.log("报警统计数据:",s);const e=new Date,o=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0),i=new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999),n=await b.post("/alarm-log/list",{page:1,pageSize:1e4,startTime:D(o),endTime:D(i)}),c=(n==null?void 0:n.list)||[],m=c.filter(x=>x.alarmLevel==="critical").length,a=c.filter(x=>x.alarmLevel==="warning").length,W=c.filter(x=>x.status===0).length;return{total:(s==null?void 0:s.total)||0,unhandled:(s==null?void 0:s.unhandled)||0,critical:(s==null?void 0:s.critical)||0,warning:(s==null?void 0:s.warning)||0,info:(s==null?void 0:s.info)||0,todayAlarmCount:c.length,todayCriticalCount:m,todayWarningCount:a,todayUnhandledCount:W}}catch(s){return console.error("加载报警统计失败:",s),{total:0,unhandled:0,critical:0,warning:0,info:0,todayAlarmCount:0,todayCriticalCount:0,todayWarningCount:0,todayUnhandledCount:0}}},j=async()=>{try{const s=await b.post("/alarm-log/list",{page:1,pageSize:5,status:0});console.log("最近报警数据:",s),T.value=(s==null?void 0:s.list)||[]}catch(s){console.error("加载最近报警失败:",s),T.value=[]}},at=s=>l.value.totalDevices===0?0:Math.round(s/l.value.totalDevices*100),C=s=>s>=1e4?(s/1e4).toFixed(1)+"W":s>=1e3?(s/1e3).toFixed(1)+"K":s.toString(),ot=s=>s>0?`+${s}%`:`${s}%`,J=s=>{if(!s)return"-";const e=new Date(s);if(isNaN(e.getTime()))return"-";const o=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),c=String(e.getHours()).padStart(2,"0"),m=String(e.getMinutes()).padStart(2,"0"),a=String(e.getSeconds()).padStart(2,"0");return`${o}-${i}-${n} ${c}:${m}:${a}`},D=s=>{const e=new Date(s),o=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),c=String(e.getHours()).padStart(2,"0"),m=String(e.getMinutes()).padStart(2,"0"),a=String(e.getSeconds()).padStart(2,"0");return`${o}-${i}-${n} ${c}:${m}:${a}`},H=(s={})=>{y.push({path:"/devices",query:s})},it=()=>{y.push("/products/list")},nt=(s={})=>{y.push({path:"/alarms",query:s})},lt=()=>{const s=new Date,e=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0),o=new Date(s.getFullYear(),s.getMonth(),s.getDate(),23,59,59,999);y.push({path:"/alarms",query:{startTime:D(e),endTime:D(o)}})},rt=()=>{const s=new Date,e=new Date(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0,0),o=new Date(s.getFullYear(),s.getMonth(),s.getDate(),23,59,59,999);y.push({path:"/alarms",query:{startTime:D(e),endTime:D(o),status:0}})},dt=s=>{y.push(`/devices/${s}`)},ct=s=>{y.push({path:"/alarms",query:{alarmId:s}})},ut=async()=>{await G(),await X(),await j(),await M(),setTimeout(()=>{O(),tt(),et()},300)};return gt(()=>{console.log("Overview 组件已挂载，开始加载数据");try{ut(),F=setInterval(()=>{G(),X(),j()},3e4)}catch(s){console.error("Overview 组件初始化失败:",s),K.error("页面加载失败: "+(s.message||"未知错误"))}}),ft(()=>{F&&clearInterval(F),h==null||h.dispose(),g==null||g.dispose(),f==null||f.dispose(),window.removeEventListener("resize",()=>{h==null||h.resize(),g==null||g.resize(),f==null||f.resize()})}),(s,e)=>{const o=L("el-icon"),i=L("el-button"),n=L("el-button-group"),c=L("el-tag"),m=mt("loading");return v(),p("div",zt,[t("div",St,[t("div",{class:"stat-card stat-card-primary",onClick:H},[e[6]||(e[6]=t("div",{class:"stat-icon-wrapper"},[t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z",fill:"white"})])])],-1)),t("div",xt,[e[5]||(e[5]=t("div",{class:"stat-label"},"设备总数",-1)),t("div",kt,r(C(l.value.totalDevices)),1),t("div",Tt,[t("span",Lt,"在线 "+r(l.value.onlineDevices),1),t("span",Mt,"离线 "+r(l.value.offlineDevices),1)])])]),t("div",{class:"stat-card stat-card-success",onClick:e[0]||(e[0]=a=>H({status:"online"}))},[e[8]||(e[8]=t("div",{class:"stat-icon-wrapper"},[t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",fill:"white"})])])],-1)),t("div",$t,[e[7]||(e[7]=t("div",{class:"stat-label"},"在线设备",-1)),t("div",At,r(C(l.value.onlineDevices)),1),t("div",Nt,[t("span",Bt,"在线率 "+r(l.value.onlineRate||0)+"%",1)])])]),t("div",{class:"stat-card stat-card-warning",onClick:it},[e[11]||(e[11]=t("div",{class:"stat-icon-wrapper"},[t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z",fill:"white"})])])],-1)),t("div",Rt,[e[9]||(e[9]=t("div",{class:"stat-label"},"产品类型",-1)),t("div",Vt,r(C(l.value.productCount||0)),1),e[10]||(e[10]=t("div",{class:"stat-detail"},[t("span",{style:{color:"#999"}},"已创建产品")],-1))])]),t("div",Ft,[e[13]||(e[13]=t("div",{class:"stat-icon-wrapper"},[t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z",fill:"white"})])])],-1)),t("div",Ot,[e[12]||(e[12]=t("div",{class:"stat-label"},"今日数据量",-1)),t("div",Ht,r(C(l.value.todayDataCount)),1),t("div",Wt,[t("span",Et,"较昨日 "+r(l.value.dataTrend>0?"+":"")+r(ot(l.value.dataTrend)),1)])])]),t("div",{class:"stat-card stat-card-danger",onClick:e[1]||(e[1]=a=>lt())},[e[15]||(e[15]=t("div",{class:"stat-icon-wrapper"},[t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #f56c6c 0%, #ff8a80 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z",fill:"white"})])])],-1)),t("div",Ut,[e[14]||(e[14]=t("div",{class:"stat-label"},"今日报警",-1)),t("div",Yt,r(C(l.value.todayAlarmCount||0)),1),t("div",qt,[t("span",Pt,"严重 "+r(l.value.todayCriticalCount||0),1),t("span",Gt,"警告 "+r(l.value.todayWarningCount||0),1)])])]),t("div",{class:"stat-card stat-card-warning-alt",onClick:e[2]||(e[2]=a=>rt())},[e[18]||(e[18]=t("div",{class:"stat-icon-wrapper"},[t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #ff9800 0%, #ffb74d 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z",fill:"white"})])])],-1)),t("div",Xt,[e[16]||(e[16]=t("div",{class:"stat-label"},"今日未处理",-1)),t("div",jt,r(C(l.value.todayUnhandledCount||0)),1),e[17]||(e[17]=t("div",{class:"stat-detail"},[t("span",{style:{color:"#999"}},"待处理报警")],-1))])])]),t("div",Jt,[t("div",Kt,[t("div",Zt,[t("div",Qt,[d(o,{class:"chart-icon",size:20},{default:u(()=>[d(_(wt))]),_:1}),e[19]||(e[19]=t("span",{class:"chart-title"},"数据上报趋势（最近24小时）",-1))]),t("div",It,[d(n,null,{default:u(()=>[d(i,{type:S.value==="24h"?"primary":"",size:"small",onClick:e[3]||(e[3]=a=>{S.value="24h",O()})},{default:u(()=>[...e[20]||(e[20]=[z("24小时",-1)])]),_:1},8,["type"]),d(i,{type:S.value==="7d"?"primary":"",size:"small",onClick:e[4]||(e[4]=a=>{S.value="7d",O()})},{default:u(()=>[...e[21]||(e[21]=[z("7天",-1)])]),_:1},8,["type"])]),_:1})])]),E(t("div",{ref_key:"trendChartRef",ref:$,class:"chart-container"},null,512),[[m,B.value]])]),t("div",te,[t("div",ee,[t("div",se,[d(o,{class:"chart-icon",size:20},{default:u(()=>[d(_(_t))]),_:1}),e[22]||(e[22]=t("span",{class:"chart-title"},"产品分布",-1))])]),E(t("div",{ref_key:"productChartRef",ref:A,class:"chart-container"},null,512),[[m,R.value]])])]),t("div",ae,[t("div",oe,[t("div",ie,[t("div",ne,[d(o,{class:"chart-icon",size:20},{default:u(()=>[d(_(yt))]),_:1}),e[23]||(e[23]=t("span",{class:"chart-title"},"设备状态分布",-1))])]),E(t("div",{ref_key:"statusChartRef",ref:N,class:"chart-container"},null,512),[[m,V.value]])]),t("div",le,[t("div",re,[t("div",de,[d(o,{class:"chart-icon",size:20},{default:u(()=>[d(_(Ct))]),_:1}),e[24]||(e[24]=t("span",{class:"chart-title"},"设备分组统计",-1))])]),t("div",ce,[(v(!0),p(U,null,Y(k.value,a=>(v(),p("div",{key:a.groupId,class:"group-stat-item"},[t("div",ue,[t("span",ve,r(a.groupName||"未分组"),1),t("span",pe,r(a.deviceCount)+" 台",1)]),t("div",he,[t("div",{class:"group-stat-bar-fill",style:Dt({width:at(a.deviceCount)+"%"})},[t("div",ge,[t("span",fe,"在线 "+r(a.onlineCount),1),t("span",me,"离线 "+r(a.offlineCount),1)])],4)])]))),128)),k.value.length===0?(v(),p("div",we,[d(o,{class:"empty-icon",size:48},{default:u(()=>[d(_(Z))]),_:1}),e[25]||(e[25]=t("p",null,"暂无分组数据",-1))])):q("",!0)])])]),t("div",_e,[t("div",ye,[t("div",Ce,[t("div",De,[d(o,{class:"card-icon",size:20},{default:u(()=>[d(_(Q))]),_:1}),e[26]||(e[26]=t("span",{class:"card-title"},"最近报警",-1))]),d(i,{type:"text",onClick:nt},{default:u(()=>[...e[27]||(e[27]=[z("查看全部 →",-1)])]),_:1})]),t("div",be,[(v(!0),p(U,null,Y(T.value,a=>(v(),p("div",{key:a.id,class:I(["alarm-item",`alarm-level-${a.alarmLevel}`]),onClick:W=>ct(a.id)},[t("div",Se,[t("div",xe,[a.alarmLevel==="critical"?(v(),p("svg",ke,[...e[28]||(e[28]=[t("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z",fill:"currentColor"},null,-1)])])):a.alarmLevel==="warning"?(v(),p("svg",Te,[...e[29]||(e[29]=[t("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z",fill:"currentColor"},null,-1)])])):(v(),p("svg",Le,[...e[30]||(e[30]=[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z",fill:"currentColor"},null,-1)])]))])]),t("div",Me,[t("div",$e,r(a.deviceName||a.deviceCode),1),t("div",Ae,r(a.alarmMessage),1),t("div",Ne,r(J(a.triggerTime)),1)]),t("div",Be,[d(c,{type:a.status===0?"warning":"success",size:"small"},{default:u(()=>[z(r(a.status===0?"未处理":"已处理"),1)]),_:2},1032,["type"])])],10,ze))),128)),T.value.length===0?(v(),p("div",Re,[d(o,{class:"empty-icon",size:48},{default:u(()=>[d(_(Q))]),_:1}),e[31]||(e[31]=t("p",null,"暂无报警数据",-1))])):q("",!0)])]),t("div",Ve,[t("div",Fe,[t("div",Oe,[d(o,{class:"card-icon",size:20},{default:u(()=>[d(_(bt))]),_:1}),e[32]||(e[32]=t("span",{class:"card-title"},"最近活跃设备",-1))]),d(i,{type:"text",onClick:H},{default:u(()=>[...e[33]||(e[33]=[z("查看全部 →",-1)])]),_:1})]),t("div",He,[(v(!0),p(U,null,Y(l.value.recentDevices,a=>(v(),p("div",{key:a.deviceCode,class:"device-item",onClick:W=>dt(a.deviceCode)},[t("div",Ee,[e[34]||(e[34]=t("div",{class:"device-icon"},[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z",fill:"currentColor"})])],-1)),t("span",{class:I(a.status===1?"status-dot online":"status-dot offline")},null,2)]),t("div",Ue,[t("div",Ye,r(a.deviceName),1),t("div",qe,[t("span",null,r(a.productName),1),e[35]||(e[35]=t("span",{class:"separator"},"·",-1)),t("span",null,r(J(a.lastOnlineTime)),1)])]),t("div",Pe,[d(c,{type:a.status===1?"success":"warning",size:"small"},{default:u(()=>[z(r(a.status===1?"在线":"离线"),1)]),_:2},1032,["type"])])],8,We))),128)),l.value.recentDevices.length===0?(v(),p("div",Ge,[d(o,{class:"empty-icon",size:48},{default:u(()=>[d(_(Z))]),_:1}),e[36]||(e[36]=t("p",null,"暂无设备数据",-1))])):q("",!0)])])])])}}},Ze=vt(Xe,[["__scopeId","data-v-36dbf58d"]]);export{Ze as default};
