import{_ as rt,u as dt,r as m,y as ct,z as ut,E as Q,A as vt,c as T,B as pt,o as c,d as u,e as t,C as M,t as i,D as y,g as d,w as v,G as E,F,f as G,H as b,I as A,i as w,J as ht,q as z,K as ft,v as gt,L as _t,n as mt,M as Z,x as I,N as wt}from"./index-60c90437.js";import{i as Y}from"./index-18acf776.js";const yt={class:"dashboard-container"},Ct={class:"stats-cards"},bt={class:"stat-icon-wrapper"},zt={key:0,class:"stat-trend"},Dt={class:"stat-info"},St={class:"stat-value"},xt={class:"stat-detail"},kt={class:"online"},Lt={class:"offline"},Tt={class:"stat-card stat-card-success"},Mt={class:"stat-icon-wrapper"},At={key:0,class:"stat-trend"},$t={class:"trend-up"},Nt={class:"stat-info"},Bt={class:"stat-value"},Rt={class:"stat-detail"},Vt={style:{color:"#999"}},Ot={class:"stat-card stat-card-warning"},Ht={class:"stat-info"},Wt={class:"stat-value"},Et={class:"stat-card stat-card-info"},Ft={class:"stat-icon-wrapper"},Gt={key:0,class:"stat-trend"},Yt={class:"stat-info"},qt={class:"stat-value"},Pt={class:"stat-detail"},Kt={style:{color:"#999"}},jt={class:"stat-card stat-card-danger"},Jt={class:"stat-icon-wrapper"},Ut={key:0,class:"stat-badge"},Xt={class:"stat-info"},Qt={class:"stat-value"},Zt={class:"stat-detail"},It={class:"critical"},te={class:"warning"},ee={class:"stat-card stat-card-warning-alt"},se={class:"stat-info"},ae={class:"stat-value"},oe={class:"charts-row"},ie={class:"chart-card"},ne={class:"chart-header"},le={class:"chart-title-wrapper"},re={class:"chart-actions"},de={class:"chart-card"},ce={class:"chart-header"},ue={class:"chart-title-wrapper"},ve={class:"charts-row"},pe={class:"chart-card"},he={class:"chart-header"},fe={class:"chart-title-wrapper"},ge={class:"chart-card"},_e={class:"chart-header"},me={class:"chart-title-wrapper"},we={class:"group-stats-list"},ye={class:"group-stat-header"},Ce={class:"group-name"},be={class:"group-count"},ze={class:"group-stat-bar"},De={class:"group-stat-bar-info"},Se={class:"online-count"},xe={class:"offline-count"},ke={key:0,class:"empty-state"},Le={class:"bottom-row"},Te={class:"info-card"},Me={class:"card-header"},Ae={class:"card-title-wrapper"},$e={class:"alarm-list"},Ne=["onClick"],Be={class:"alarm-icon-wrapper"},Re={class:"alarm-icon"},Ve={key:0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Oe={key:1,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},He={key:2,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},We={class:"alarm-content"},Ee={class:"alarm-title"},Fe={class:"alarm-desc"},Ge={class:"alarm-time"},Ye={class:"alarm-status"},qe={key:0,class:"empty-state"},Pe={class:"info-card"},Ke={class:"card-header"},je={class:"card-title-wrapper"},Je={class:"device-list"},Ue=["onClick"],Xe={class:"device-icon-wrapper"},Qe={class:"device-info"},Ze={class:"device-name"},Ie={class:"device-meta"},ts={class:"device-status"},es={key:0,class:"empty-state"},ss={__name:"Overview",setup(as){const x=dt(),a=m({totalDevices:0,onlineDevices:0,offlineDevices:0,todayDataCount:0,yesterdayDataCount:0,alarmCount:0,onlineRate:0,deviceTrend:0,dataTrend:0,productDistribution:[],recentDevices:[],productCount:0,todayAlarmCount:0,todayCriticalCount:0,todayWarningCount:0}),$=m(null),N=m(null),B=m(null);let h=null,f=null,g=null;const R=m(!1),V=m(!1),O=m(!1),D=m("24h"),k=m([]),L=m([]);let H=null;ct(()=>a.value.totalDevices===0?0:Math.round(a.value.onlineDevices/a.value.totalDevices*100));const q=async()=>{try{const s=await b.post("/devices/statistics");if(console.log("统计数据:",s),s){const e=s.totalDevices>0?Math.round(s.onlineDevices/s.totalDevices*100):0,l=(s.recentDevices||[]).slice(0,8).map(r=>{var p;if(!r.productName&&r.productId){const _=(p=s.productDistribution)==null?void 0:p.find(o=>o.productId===r.productId);_&&(r.productName=_.productName)}return r}),n=await st();a.value={totalDevices:s.totalDevices||0,onlineDevices:s.onlineDevices||0,offlineDevices:s.offlineDevices||0,todayDataCount:s.todayDataCount||0,yesterdayDataCount:0,alarmCount:n.total||0,unhandledAlarmCount:n.unhandled||0,criticalCount:n.critical||0,warningCount:n.warning||0,infoCount:n.info||0,onlineRate:e,deviceTrend:0,dataTrend:0,productDistribution:s.productDistribution||[],recentDevices:l,productCount:s.productCount||0,todayAlarmCount:n.todayAlarmCount||0,todayCriticalCount:n.todayCriticalCount||0,todayWarningCount:n.todayWarningCount||0}}}catch(s){console.error("加载统计数据失败:",s),Q.error("加载统计数据失败")}},W=async()=>{if($.value){R.value=!0;try{const s=await b.post("/statistics/data-trend",{range:D.value}),e=s.timeLabels||[],l=s.dataCounts||[];await A(),h||(h=Y($.value));const n={tooltip:{trigger:"axis",backgroundColor:"rgba(50, 50, 50, 0.9)",borderColor:"transparent",textStyle:{color:"#fff"}},grid:{left:"3%",right:"4%",bottom:"3%",top:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e,axisLine:{lineStyle:{color:"#e0e0e0"}},axisLabel:{color:"#999",fontSize:12}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#999",fontSize:12},splitLine:{lineStyle:{color:"#f0f0f0",type:"dashed"}}},series:[{name:"数据量",type:"line",smooth:!0,data:l,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(102, 126, 234, 0.3)"},{offset:1,color:"rgba(102, 126, 234, 0.05)"}]}},lineStyle:{color:"#667eea",width:3},itemStyle:{color:"#667eea"},symbol:"circle",symbolSize:6}]};h.setOption(n),window.addEventListener("resize",()=>{h==null||h.resize()})}catch(s){console.error("加载数据趋势失败:",s)}finally{R.value=!1}}},tt=async()=>{if(!(!N.value||a.value.productDistribution.length===0)){V.value=!0;try{await A(),f||(f=Y(N.value));const s=["#667eea","#764ba2","#f093fb","#f5576c","#4facfe","#00f2fe","#11998e","#38ef7d"],e=a.value.productDistribution.map((n,r)=>({value:n.count,name:n.productName,itemStyle:{color:s[r%s.length]}})),l={tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},legend:{orient:"vertical",right:10,top:"center",textStyle:{color:"#666",fontSize:12}},series:[{type:"pie",radius:["40%","70%"],center:["35%","50%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:8,borderColor:"#fff",borderWidth:2},label:{show:!0,formatter:`{b}
{c}台 ({d}%)`,fontSize:12},emphasis:{label:{show:!0,fontSize:14,fontWeight:"bold"}},data:e}]};f.setOption(l),window.addEventListener("resize",()=>{f==null||f.resize()})}catch(s){console.error("加载产品分布图失败:",s)}finally{V.value=!1}}},et=async()=>{if(B.value){O.value=!0;try{await A(),g||(g=Y(B.value));const s={tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)"},legend:{orient:"vertical",right:10,top:"center",textStyle:{color:"#666",fontSize:12}},series:[{type:"pie",radius:"65%",center:["40%","50%"],data:[{value:a.value.onlineDevices,name:"在线",itemStyle:{color:"#67c23a"}},{value:a.value.offlineDevices,name:"离线",itemStyle:{color:"#e6a23c"}}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{show:!0,formatter:`{b}
{c}台 ({d}%)`,fontSize:14}}]};g.setOption(s),window.addEventListener("resize",()=>{g==null||g.resize()})}catch(s){console.error("加载状态分布图失败:",s)}finally{O.value=!1}}},P=async()=>{try{const s=await b.post("/devices/list",{page:1,pageSize:1e4});console.log("设备列表数据:",s);const e=(s==null?void 0:s.list)||[],l={};e.forEach(n=>{const r=n.groupId||0,p=n.groupName||"未分组";l[r]||(l[r]={groupId:r,groupName:p,deviceCount:0,onlineCount:0,offlineCount:0}),l[r].deviceCount++,n.status===1?l[r].onlineCount++:l[r].offlineCount++}),k.value=Object.values(l).sort((n,r)=>r.deviceCount-n.deviceCount).slice(0,5)}catch(s){console.error("加载分组统计失败:",s),k.value=[]}},st=async()=>{try{const s=await b.post("/alarm-log/statistics");console.log("报警统计数据:",s);const e=new Date,l=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999),r=await b.post("/alarm-log/list",{page:1,pageSize:1e4,startTime:U(l),endTime:U(n)}),p=(r==null?void 0:r.list)||[],_=p.filter(S=>S.alarmLevel==="critical").length,o=p.filter(S=>S.alarmLevel==="warning").length;return{total:(s==null?void 0:s.total)||0,unhandled:(s==null?void 0:s.unhandled)||0,critical:(s==null?void 0:s.critical)||0,warning:(s==null?void 0:s.warning)||0,info:(s==null?void 0:s.info)||0,todayAlarmCount:p.length,todayCriticalCount:_,todayWarningCount:o}}catch(s){return console.error("加载报警统计失败:",s),{total:0,unhandled:0,critical:0,warning:0,info:0,todayAlarmCount:0,todayCriticalCount:0,todayWarningCount:0}}},K=async()=>{try{const s=await b.post("/alarm-log/list",{page:1,pageSize:5,status:0});console.log("最近报警数据:",s),L.value=(s==null?void 0:s.list)||[]}catch(s){console.error("加载最近报警失败:",s),L.value=[]}},at=s=>a.value.totalDevices===0?0:Math.round(s/a.value.totalDevices*100),C=s=>s>=1e4?(s/1e4).toFixed(1)+"W":s>=1e3?(s/1e3).toFixed(1)+"K":s.toString(),j=s=>s>0?`+${s}%`:`${s}%`,J=s=>{if(!s)return"-";const e=new Date(s);if(isNaN(e.getTime()))return"-";const l=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),p=String(e.getHours()).padStart(2,"0"),_=String(e.getMinutes()).padStart(2,"0"),o=String(e.getSeconds()).padStart(2,"0");return`${l}-${n}-${r} ${p}:${_}:${o}`},U=s=>{const e=new Date(s),l=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),p=String(e.getHours()).padStart(2,"0"),_=String(e.getMinutes()).padStart(2,"0"),o=String(e.getSeconds()).padStart(2,"0");return`${l}-${n}-${r} ${p}:${_}:${o}`},X=()=>{x.push("/devices")},ot=()=>{x.push("/alarms")},it=s=>{x.push(`/devices/${s}`)},nt=s=>{x.push({path:"/alarms",query:{alarmId:s}})},lt=async()=>{await q(),await P(),await K(),await A(),setTimeout(()=>{W(),tt(),et()},300)};return ut(()=>{console.log("Overview 组件已挂载，开始加载数据");try{lt(),H=setInterval(()=>{q(),P(),K()},3e4)}catch(s){console.error("Overview 组件初始化失败:",s),Q.error("页面加载失败: "+(s.message||"未知错误"))}}),vt(()=>{H&&clearInterval(H),h==null||h.dispose(),f==null||f.dispose(),g==null||g.dispose(),window.removeEventListener("resize",()=>{h==null||h.resize(),f==null||f.resize(),g==null||g.resize()})}),(s,e)=>{const l=T("el-icon"),n=T("el-button"),r=T("el-button-group"),p=T("el-tag"),_=pt("loading");return c(),u("div",yt,[t("div",Ct,[t("div",{class:"stat-card stat-card-primary",onClick:X},[t("div",bt,[e[2]||(e[2]=t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z",fill:"white"})])],-1)),a.value.deviceTrend!==0?(c(),u("div",zt,[t("span",{class:M(a.value.deviceTrend>0?"trend-up":"trend-down")},i(a.value.deviceTrend>0?"↑":"↓")+" "+i(Math.abs(a.value.deviceTrend)),3)])):y("",!0)]),t("div",Dt,[e[3]||(e[3]=t("div",{class:"stat-label"},"设备总数",-1)),t("div",St,i(C(a.value.totalDevices)),1),t("div",xt,[t("span",kt,"在线 "+i(a.value.onlineDevices),1),t("span",Lt,"离线 "+i(a.value.offlineDevices),1)])])]),t("div",Tt,[t("div",Mt,[e[4]||(e[4]=t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",fill:"white"})])],-1)),a.value.onlineRate?(c(),u("div",At,[t("span",$t,i(a.value.onlineRate)+"%",1)])):y("",!0)]),t("div",Nt,[e[5]||(e[5]=t("div",{class:"stat-label"},"在线设备",-1)),t("div",Bt,i(C(a.value.onlineDevices)),1),t("div",Rt,[t("span",Vt,"在线率 "+i(a.value.onlineRate||0)+"%",1)])])]),t("div",Ot,[e[8]||(e[8]=t("div",{class:"stat-icon-wrapper"},[t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z",fill:"white"})])])],-1)),t("div",Ht,[e[6]||(e[6]=t("div",{class:"stat-label"},"产品类型",-1)),t("div",Wt,i(C(a.value.productCount||0)),1),e[7]||(e[7]=t("div",{class:"stat-detail"},[t("span",{style:{color:"#999"}},"已创建产品")],-1))])]),t("div",Et,[t("div",Ft,[e[9]||(e[9]=t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z",fill:"white"})])],-1)),a.value.dataTrend!==0?(c(),u("div",Gt,[t("span",{class:M(a.value.dataTrend>0?"trend-up":"trend-down")},i(a.value.dataTrend>0?"↑":"↓")+" "+i(j(Math.abs(a.value.dataTrend))),3)])):y("",!0)]),t("div",Yt,[e[10]||(e[10]=t("div",{class:"stat-label"},"今日数据量",-1)),t("div",qt,i(C(a.value.todayDataCount)),1),t("div",Pt,[t("span",Kt,"较昨日 "+i(a.value.dataTrend>0?"+":"")+i(j(a.value.dataTrend)),1)])])]),t("div",jt,[t("div",Jt,[e[11]||(e[11]=t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #f56c6c 0%, #ff8a80 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z",fill:"white"})])],-1)),a.value.unhandledAlarmCount>0?(c(),u("div",Ut,i(a.value.unhandledAlarmCount),1)):y("",!0)]),t("div",Xt,[e[12]||(e[12]=t("div",{class:"stat-label"},"今日报警",-1)),t("div",Qt,i(C(a.value.todayAlarmCount||0)),1),t("div",Zt,[t("span",It,"严重 "+i(a.value.todayCriticalCount||0),1),t("span",te,"警告 "+i(a.value.todayWarningCount||0),1)])])]),t("div",ee,[e[15]||(e[15]=t("div",{class:"stat-icon-wrapper"},[t("div",{class:"stat-icon",style:{background:"linear-gradient(135deg, #ff9800 0%, #ffb74d 100%)"}},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z",fill:"white"})])])],-1)),t("div",se,[e[13]||(e[13]=t("div",{class:"stat-label"},"未处理",-1)),t("div",ae,i(C(a.value.unhandledAlarmCount||0)),1),e[14]||(e[14]=t("div",{class:"stat-detail"},[t("span",{style:{color:"#999"}},"待处理报警")],-1))])])]),t("div",oe,[t("div",ie,[t("div",ne,[t("div",le,[d(l,{class:"chart-icon",size:20},{default:v(()=>[d(w(ht))]),_:1}),e[16]||(e[16]=t("span",{class:"chart-title"},"数据上报趋势（最近24小时）",-1))]),t("div",re,[d(r,null,{default:v(()=>[d(n,{type:D.value==="24h"?"primary":"",size:"small",onClick:e[0]||(e[0]=o=>{D.value="24h",W()})},{default:v(()=>[...e[17]||(e[17]=[z("24小时",-1)])]),_:1},8,["type"]),d(n,{type:D.value==="7d"?"primary":"",size:"small",onClick:e[1]||(e[1]=o=>{D.value="7d",W()})},{default:v(()=>[...e[18]||(e[18]=[z("7天",-1)])]),_:1},8,["type"])]),_:1})])]),E(t("div",{ref_key:"trendChartRef",ref:$,class:"chart-container"},null,512),[[_,R.value]])]),t("div",de,[t("div",ce,[t("div",ue,[d(l,{class:"chart-icon",size:20},{default:v(()=>[d(w(ft))]),_:1}),e[19]||(e[19]=t("span",{class:"chart-title"},"产品分布",-1))])]),E(t("div",{ref_key:"productChartRef",ref:N,class:"chart-container"},null,512),[[_,V.value]])])]),t("div",ve,[t("div",pe,[t("div",he,[t("div",fe,[d(l,{class:"chart-icon",size:20},{default:v(()=>[d(w(gt))]),_:1}),e[20]||(e[20]=t("span",{class:"chart-title"},"设备状态分布",-1))])]),E(t("div",{ref_key:"statusChartRef",ref:B,class:"chart-container"},null,512),[[_,O.value]])]),t("div",ge,[t("div",_e,[t("div",me,[d(l,{class:"chart-icon",size:20},{default:v(()=>[d(w(_t))]),_:1}),e[21]||(e[21]=t("span",{class:"chart-title"},"设备分组统计",-1))])]),t("div",we,[(c(!0),u(F,null,G(k.value,o=>(c(),u("div",{key:o.groupId,class:"group-stat-item"},[t("div",ye,[t("span",Ce,i(o.groupName||"未分组"),1),t("span",be,i(o.deviceCount)+" 台",1)]),t("div",ze,[t("div",{class:"group-stat-bar-fill",style:mt({width:at(o.deviceCount)+"%"})},[t("div",De,[t("span",Se,"在线 "+i(o.onlineCount),1),t("span",xe,"离线 "+i(o.offlineCount),1)])],4)])]))),128)),k.value.length===0?(c(),u("div",ke,[d(l,{class:"empty-icon",size:48},{default:v(()=>[d(w(Z))]),_:1}),e[22]||(e[22]=t("p",null,"暂无分组数据",-1))])):y("",!0)])])]),t("div",Le,[t("div",Te,[t("div",Me,[t("div",Ae,[d(l,{class:"card-icon",size:20},{default:v(()=>[d(w(I))]),_:1}),e[23]||(e[23]=t("span",{class:"card-title"},"最近报警",-1))]),d(n,{type:"text",onClick:ot},{default:v(()=>[...e[24]||(e[24]=[z("查看全部 →",-1)])]),_:1})]),t("div",$e,[(c(!0),u(F,null,G(L.value,o=>(c(),u("div",{key:o.id,class:M(["alarm-item",`alarm-level-${o.alarmLevel}`]),onClick:S=>nt(o.id)},[t("div",Be,[t("div",Re,[o.alarmLevel==="critical"?(c(),u("svg",Ve,[...e[25]||(e[25]=[t("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z",fill:"currentColor"},null,-1)])])):o.alarmLevel==="warning"?(c(),u("svg",Oe,[...e[26]||(e[26]=[t("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z",fill:"currentColor"},null,-1)])])):(c(),u("svg",He,[...e[27]||(e[27]=[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z",fill:"currentColor"},null,-1)])]))])]),t("div",We,[t("div",Ee,i(o.deviceName||o.deviceCode),1),t("div",Fe,i(o.alarmMessage),1),t("div",Ge,i(J(o.triggerTime)),1)]),t("div",Ye,[d(p,{type:o.status===0?"warning":"success",size:"small"},{default:v(()=>[z(i(o.status===0?"未处理":"已处理"),1)]),_:2},1032,["type"])])],10,Ne))),128)),L.value.length===0?(c(),u("div",qe,[d(l,{class:"empty-icon",size:48},{default:v(()=>[d(w(I))]),_:1}),e[28]||(e[28]=t("p",null,"暂无报警数据",-1))])):y("",!0)])]),t("div",Pe,[t("div",Ke,[t("div",je,[d(l,{class:"card-icon",size:20},{default:v(()=>[d(w(wt))]),_:1}),e[29]||(e[29]=t("span",{class:"card-title"},"最近活跃设备",-1))]),d(n,{type:"text",onClick:X},{default:v(()=>[...e[30]||(e[30]=[z("查看全部 →",-1)])]),_:1})]),t("div",Je,[(c(!0),u(F,null,G(a.value.recentDevices,o=>(c(),u("div",{key:o.deviceCode,class:"device-item",onClick:S=>it(o.deviceCode)},[t("div",Xe,[e[31]||(e[31]=t("div",{class:"device-icon"},[t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z",fill:"currentColor"})])],-1)),t("span",{class:M(o.status===1?"status-dot online":"status-dot offline")},null,2)]),t("div",Qe,[t("div",Ze,i(o.deviceName),1),t("div",Ie,[t("span",null,i(o.productName),1),e[32]||(e[32]=t("span",{class:"separator"},"·",-1)),t("span",null,i(J(o.lastOnlineTime)),1)])]),t("div",ts,[d(p,{type:o.status===1?"success":"warning",size:"small"},{default:v(()=>[z(i(o.status===1?"在线":"离线"),1)]),_:2},1032,["type"])])],8,Ue))),128)),a.value.recentDevices.length===0?(c(),u("div",es,[d(l,{class:"empty-icon",size:48},{default:v(()=>[d(w(Z))]),_:1}),e[33]||(e[33]=t("p",null,"暂无设备数据",-1))])):y("",!0)])])])])}}},ns=rt(ss,[["__scopeId","data-v-ab66c8b5"]]);export{ns as default};
