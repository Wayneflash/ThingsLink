# UniApp 项目快速开始指南

## ✅ 项目已配置完成

### 已完成的工作

1. ✅ **项目创建** - UniApp 项目已创建
2. ✅ **目录结构** - API、utils、pages 目录已创建
3. ✅ **API 文件** - 已从现有项目复制所有 API 文件
4. ✅ **请求封装** - `utils/request.js` 已创建（使用 uni.request）
5. ✅ **路由配置** - `pages.json` 已配置（登录、概览、设备、报警、我的）
6. ✅ **应用配置** - `manifest.json` 已配置
7. ✅ **基础页面** - 登录页、概览页、设备列表、设备详情、报警页、我的页面已创建

---

## 🚀 下一步操作

### 1. 测试运行（立即执行）

```bash
cd iot-mobile-app
npm run dev:h5
```

**预期结果：**
- 浏览器自动打开
- 显示登录页面
- 可以输入用户名密码测试登录

### 2. 配置 API 地址

编辑 `src/utils/request.js`，修改 `baseURL`：

```javascript
const baseURL = process.env.NODE_ENV === 'development' 
  ? 'http://localhost:8080'  // 开发环境（如果后端在本地）
  : 'https://your-api-domain.com'  // 生产环境，替换为实际地址
```

### 3. 创建底部导航图标（可选）

在 `src/static/` 目录下创建 `tabbar/` 文件夹，添加图标：
- `home.png` / `home-active.png`
- `device.png` / `device-active.png`
- `alarm.png` / `alarm-active.png`
- `profile.png` / `profile-active.png`

**如果没有图标，可以先注释掉 `pages.json` 中的 `tabBar` 配置**

### 4. 完善页面功能

参考现有原型 `frontend/src/views/MobilePrototypes.vue`，完善各个页面的功能。

---

## 📱 开发调试

### H5 调试（浏览器）

```bash
npm run dev:h5
```

### 真机调试（需要 HBuilderX）

1. 下载 HBuilderX：https://www.dcloud.io/hbuilderx.html
2. 打开项目：文件 → 打开目录 → 选择 `iot-mobile-app`
3. 运行 → 运行到手机或模拟器 → 选择 Android

---

## 📦 打包 APK

### 使用 DCloud 云打包（推荐）

1. 访问：https://dev.dcloud.net.cn/
2. 登录账号
3. 创建应用 → 上传代码（压缩 `iot-mobile-app` 目录）
4. 发行 → 原生App-云打包 → 选择 Android
5. 等待打包完成，下载 APK

---

## 🔧 常见问题

### Q: API 请求失败？
A: 检查 `utils/request.js` 中的 `baseURL` 是否正确

### Q: 页面空白？
A: 检查 `pages.json` 中的路由配置是否正确

### Q: 底部导航不显示？
A: 检查 `pages.json` 中的 `tabBar` 配置，或暂时注释掉

---

## 📚 参考文档

- **现有移动端原型**：`frontend/src/views/MobilePrototypes.vue`
- **API 文档**：`docs/API.md`
- **开发指南**：`plans/安卓APP开发指南.md`

---

## 🎯 现在可以开始测试了！

执行 `npm run dev:h5` 开始开发！
