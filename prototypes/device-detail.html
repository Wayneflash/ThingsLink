<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®¾å¤‡è¯¦æƒ… - ç‰©è”ç½‘å¹³å°</title>
    <link rel="stylesheet" href="common-style.css">
    <style>
        /* é¢åŒ…å±‘å¯¼èˆª */
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
            font-size: 14px;
            color: #86868b;
        }
        .breadcrumb a {
            color: #0071e3;
            text-decoration: none;
        }
        .breadcrumb a:hover {
            text-decoration: underline;
        }
        .breadcrumb-separator {
            color: #d2d2d7;
        }
        
        /* é¡µé¢å¤´éƒ¨ */
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }
        .page-header-actions {
            display: flex;
            gap: 12px;
        }
        
        /* ä¿¡æ¯å¡ç‰‡ */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }
        .info-item {
            background: white;
            padding: 16px;
            border-radius: 12px;
            border: 0.5px solid rgba(0,0,0,0.08);
        }
        .info-label {
            font-size: 13px;
            color: #86868b;
            margin-bottom: 6px;
        }
        .info-value {
            font-size: 16px;
            font-weight: 600;
            color: #1d1d1f;
        }
        
        /* TabåŒºåŸŸ */
        .detail-tabs {
            background: white;
            border-radius: 12px;
            border: 0.5px solid rgba(0,0,0,0.08);
            overflow: hidden;
        }
        .tabs-header {
            display: flex;
            border-bottom: 0.5px solid rgba(0,0,0,0.08);
        }
        .tab-item {
            flex: 1;
            padding: 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 2px solid transparent;
        }
        .tab-item:hover {
            background: #f5f5f7;
        }
        .tab-item.active {
            color: #0071e3;
            border-bottom-color: #0071e3;
            font-weight: 500;
        }
        .tab-content {
            padding: 24px;
        }
        .tab-pane {
            display: none;
        }
        .tab-pane.active {
            display: block;
        }
        
        /* æ•°æ®å¡ç‰‡ */
        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 20px;
        }
        .data-card {
            background: #f5f5f7;
            padding: 16px;
            border-radius: 8px;
        }
        .data-card-label {
            font-size: 13px;
            color: #86868b;
            margin-bottom: 8px;
        }
        .data-card-value {
            font-size: 24px;
            font-weight: 700;
            color: #0071e3;
        }
        .data-card-unit {
            font-size: 14px;
            color: #86868b;
            margin-left: 4px;
        }
        
        /* å‘½ä»¤æŒ‰é’®ç»„ */
        .cmd-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 12px;
        }
        .cmd-btn {
            padding: 16px;
            border-radius: 8px;
            border: 0.5px solid rgba(0,0,0,0.2);
            background: white;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            font-size: 14px;
        }
        .cmd-btn:hover {
            background: #0071e3;
            color: white;
            border-color: #0071e3;
        }
        
        /* å†å²æ•°æ®è¡¨æ ¼ */
        .history-table {
            max-height: 400px;
            overflow-y: auto;
        }
        
        /* å†…å®¹å¸ƒå±€ */
        .content-wrapper {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 24px;
        }
        .content-main {
            min-width: 0;
        }
        .content-sidebar {
            position: sticky;
            top: 76px;
            height: fit-content;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">ç‰©è”ç½‘å¹³å°</div>
        <div class="user-info"><span>ğŸ‘¤ admin</span><a href="login.html">é€€å‡º</a></div>
    </div>

    <div class="container">
        <div class="sidebar">
            <a href="dashboard.html" class="menu-item"><span class="icon">ğŸ“Š</span> æ•°æ®ç›‘æ§</a>
            <a href="device-group.html" class="menu-item"><span class="icon">ğŸ—‚ï¸</span> è®¾å¤‡åˆ†ç»„</a>
            <a href="device-list.html" class="menu-item active"><span class="icon">ğŸ“±</span> è®¾å¤‡ç®¡ç†</a>
            <a href="product-manage.html" class="menu-item"><span class="icon">ğŸ“¦</span> äº§å“ç®¡ç†</a>
            <!-- <a href="data-query.html" class="menu-item"><span class="icon">ğŸ”</span> æ•°æ®æŸ¥è¯¢</a> -->
            <div class="menu-divider"></div>
            <a href="user-manage.html" class="menu-item"><span class="icon">ğŸ‘¥</span> ç”¨æˆ·ç®¡ç†</a>
            <a href="role-manage.html" class="menu-item"><span class="icon">ğŸ­</span> è§’è‰²ç®¡ç†</a>
            <div class="menu-divider"></div>
            <a href="index.html" class="menu-item"><span class="icon">ğŸ </span> è¿”å›å¯¼èˆª</a>
        </div>

        <div class="main-content">
            <!-- é¢åŒ…å±‘å¯¼èˆª -->
            <div class="breadcrumb">
                <a href="device-list.html">è®¾å¤‡ç®¡ç†</a>
                <span class="breadcrumb-separator">â€º</span>
                <span id="deviceName">è®¾å¤‡è¯¦æƒ…</span>
            </div>

            <div class="content-wrapper">
                <div class="content-main">
                    <!-- é¡µé¢å¤´éƒ¨ -->
                    <div class="page-header">
                        <h1 class="page-title" id="pageTitle">è®¾å¤‡è¯¦æƒ…</h1>
                        <div class="page-header-actions">
                            <button class="btn btn-default" onclick="goBack()">â† è¿”å›åˆ—è¡¨</button>
                        </div>
                    </div>

                    <!-- åŸºæœ¬ä¿¡æ¯ -->
                    <div class="card" style="margin-bottom: 24px;">
                        <div class="card-title">è®¾å¤‡åŸºæœ¬ä¿¡æ¯</div>
                        <div class="info-grid">
                            <div class="info-item">
                                <div class="info-label">è®¾å¤‡åç§°</div>
                                <div class="info-value" id="info_name">-</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">è®¾å¤‡ç¼–ç </div>
                                <div class="info-value" id="info_code">-</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">äº§å“ç±»å‹</div>
                                <div class="info-value" id="info_product">-</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">æ‰€å±åˆ†ç»„</div>
                                <div class="info-value" id="info_group">-</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">åœ¨çº¿çŠ¶æ€</div>
                                <div class="info-value" id="info_status">-</div>
                            </div>
                            <div class="info-item">
                                <div class="info-label">æœ€åä¸Šçº¿æ—¶é—´</div>
                                <div class="info-value" id="info_lastOnline">-</div>
                            </div>
                        </div>
                    </div>

                    <!-- Tabåˆ‡æ¢åŒºåŸŸ -->
                    <div class="detail-tabs">
                        <div class="tabs-header">
                            <div class="tab-item active" onclick="switchTab('realtime')">å®æ—¶æ•°æ®</div>
                            <div class="tab-item" onclick="switchTab('history')">å†å²æ•°æ®</div>
                            <div class="tab-item" onclick="switchTab('command')">å‘½ä»¤æ§åˆ¶</div>
                        </div>
                        
                        <div class="tab-content">
                            <!-- å®æ—¶æ•°æ® -->
                            <div class="tab-pane active" id="realtimePane">
                                <div style="margin-bottom: 16px;">
                                    <strong>æœ€æ–°ä¸ŠæŠ¥æ•°æ®</strong>
                                    <span style="color: #86868b; font-size: 13px; margin-left: 12px;">æ›´æ–°æ—¶é—´: <span id="updateTime">-</span></span>
                                </div>
                                <div class="data-grid" id="realtimeData">
                                    <!-- åŠ¨æ€ç”Ÿæˆ -->
                                </div>
                                <div class="prototype-note">
                                    ğŸ’¡ å®æ—¶æ•°æ®ä»è®¾å¤‡æœ€æ–°ä¸€æ¬¡ä¸ŠæŠ¥ä¸­è·å–ï¼Œæ¯æ¬¡è®¾å¤‡ä¸ŠæŠ¥ä¼šè‡ªåŠ¨æ›´æ–°
                                </div>
                            </div>

                            <!-- å†å²æ•°æ® -->
                            <div class="tab-pane" id="historyPane">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                                    <div>
                                        <strong>å†å²æ•°æ®è®°å½•</strong>
                                        <span style="margin-left: 16px;">
                                            <label style="margin-right: 12px;">
                                                <input type="radio" name="viewMode" value="table" checked onchange="switchViewMode('table')"> è¡¨æ ¼
                                            </label>
                                            <label>
                                                <input type="radio" name="viewMode" value="chart" onchange="switchViewMode('chart')"> å›¾è¡¨
                                            </label>
                                        </span>
                                    </div>
                                    <div style="display: flex; gap: 12px;">
                                        <input type="datetime-local" id="startTime" style="padding: 6px 12px; border: 0.5px solid rgba(0,0,0,0.2); border-radius: 8px;">
                                        <input type="datetime-local" id="endTime" style="padding: 6px 12px; border: 0.5px solid rgba(0,0,0,0.2); border-radius: 8px;">
                                        <button class="btn btn-primary" onclick="queryHistory()">æŸ¥è¯¢</button>
                                        <button class="btn btn-default" onclick="exportHistory()">å¯¼å‡ºExcel</button>
                                    </div>
                                </div>
                                
                                <!-- è¡¨æ ¼è§†å›¾ -->
                                <div id="tableView" class="history-table">
                                    <table>
                                        <thead>
                                            <tr>
                                                <th>æ—¶é—´</th>
                                                <th>æ¸©åº¦(â„ƒ)</th>
                                                <th>æ¹¿åº¦(%)</th>
                                                <th>çª—æˆ·çŠ¶æ€</th>
                                            </tr>
                                        </thead>
                                        <tbody id="historyList">
                                            <!-- ç¤ºä¾‹æ•°æ® -->
                                            <tr><td>2025-12-25 22:30:00</td><td>22.5</td><td>65</td><td>å…³é—­</td></tr>
                                            <tr><td>2025-12-25 22:29:00</td><td>22.6</td><td>64</td><td>å…³é—­</td></tr>
                                            <tr><td>2025-12-25 22:28:00</td><td>22.4</td><td>65</td><td>æ‰“å¼€</td></tr>
                                            <tr><td>2025-12-25 22:27:00</td><td>22.3</td><td>66</td><td>æ‰“å¼€</td></tr>
                                            <tr><td>2025-12-25 22:26:00</td><td>22.2</td><td>67</td><td>æ‰“å¼€</td></tr>
                                            <tr><td>2025-12-25 22:25:00</td><td>22.1</td><td>68</td><td>å…³é—­</td></tr>
                                        </tbody>
                                    </table>
                                </div>
                                
                                <!-- å›¾è¡¨è§†å›¾ -->
                                <div id="chartView" style="display: none;">
                                    <div style="background: #f5f5f7; padding: 40px; border-radius: 12px; text-align: center; min-height: 400px;">
                                        <div style="font-size: 48px; margin-bottom: 20px;">ğŸ“ˆ</div>
                                        <div style="font-size: 16px; color: #1d1d1f; margin-bottom: 12px;"><strong>æ¸©æ¹¿åº¦è¶‹åŠ¿å›¾</strong></div>
                                        <div style="font-size: 14px; color: #86868b; line-height: 1.8;">
                                            ğŸ“Š å›¾è¡¨åŒºåŸŸ<br>
                                            æ­£å¼ç‰ˆå°†ä½¿ç”¨ ECharts æ¸²æŸ“æŠ˜çº¿å›¾<br>
                                            æ˜¾ç¤ºæ¸©åº¦å’Œæ¹¿åº¦çš„æ—¶é—´è¶‹åŠ¿æ›²çº¿<br><br>
                                            <strong>åŠŸèƒ½ç‰¹æ€§ï¼š</strong><br>
                                            â€¢ å¤šæ¡æ›²çº¿å åŠ ï¼ˆæ¸©åº¦ã€æ¹¿åº¦ç­‰ï¼‰<br>
                                            â€¢ æ”¯æŒç¼©æ”¾å’Œæ‹–åŠ¨<br>
                                            â€¢ é¼ æ ‡æ‚¬åœæ˜¾ç¤ºå…·ä½“æ•°å€¼<br>
                                            â€¢ å¯åˆ‡æ¢æ˜¾ç¤º/éšè—æŸæ¡æ›²çº¿<br>
                                            â€¢ æ”¯æŒå¯¼å‡ºå›¾ç‰‡
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="prototype-note" style="margin-top: 12px;">
                                    ğŸ’¡ å†å²æ•°æ®æ”¯æŒè¡¨æ ¼å’Œå›¾è¡¨ä¸¤ç§å±•ç¤ºæ–¹å¼ï¼Œå¯æŒ‰æ—¶é—´èŒƒå›´æŸ¥è¯¢å’Œå¯¼å‡ºExcel
                                </div>
                            </div>

                            <!-- å‘½ä»¤æ§åˆ¶ -->
                            <div class="tab-pane" id="commandPane">
                                <div style="margin-bottom: 16px;">
                                    <strong>å¯ç”¨å‘½ä»¤</strong>
                                    <span style="color: #86868b; font-size: 13px; margin-left: 12px;">ç‚¹å‡»æŒ‰é’®ä¸‹å‘å‘½ä»¤åˆ°è®¾å¤‡</span>
                                </div>
                                <div class="cmd-grid" id="commandList">
                                    <!-- åŠ¨æ€ç”Ÿæˆ -->
                                </div>
                                <div class="prototype-note" style="margin-top: 20px;">
                                    ğŸ’¡ å‘½ä»¤ä¼šé€šè¿‡ MQTT ä¸‹å‘åˆ°è®¾å¤‡ï¼Œæ ¼å¼: ssc/{deviceCode}/command
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- å³ä¾§å¤‡æ³¨ -->
                <div class="content-sidebar">
                    <div class="prototype-note">
                        <strong>ğŸ“Œ é¡µé¢è¯´æ˜</strong><br><br>
                        è¿™æ˜¯è®¾å¤‡çš„è¯¦æƒ…é¡µï¼Œå±•ç¤ºå®Œæ•´çš„è®¾å¤‡ä¿¡æ¯å’Œæ•°æ®<br>
                        <br>
                        <strong>âœ… å¯æ“ä½œåŠŸèƒ½ï¼š</strong><br>
                        â€¢ å®æ—¶æ•°æ®ï¼šæŸ¥çœ‹è®¾å¤‡æœ€æ–°ä¸ŠæŠ¥çš„æ•°æ®<br>
                        â€¢ å†å²æ•°æ®ï¼šè¡¨æ ¼å’Œå›¾è¡¨ä¸¤ç§å±•ç¤ºæ–¹å¼<br>
                        â€¢ å‘½ä»¤æ§åˆ¶ï¼šä¸‹å‘æ§åˆ¶æŒ‡ä»¤åˆ°è®¾å¤‡<br>
                        â€¢ æ—¶é—´æŸ¥è¯¢ï¼šæŒ‰æ—¶é—´èŒƒå›´æŸ¥è¯¢å†å²æ•°æ®<br>
                        â€¢ æ•°æ®å¯¼å‡ºï¼šå¯¼å‡ºå†å²æ•°æ®ä¸ºExcel<br>
                        <br>
                        <strong>ğŸ’¡ è¯´æ˜ï¼š</strong><br>
                        â€¢ å®æ—¶æ•°æ®æ¥è‡ªè®¾å¤‡æœ€æ–°ä¸ŠæŠ¥<br>
                        â€¢ å†å²æ•°æ®æ”¯æŒè¡¨æ ¼/å›¾è¡¨åˆ‡æ¢<br>
                        â€¢ å›¾è¡¨ä½¿ç”¨EChartsæ¸²æŸ“æ›²çº¿å›¾<br>
                        â€¢ å‘½ä»¤é€šè¿‡MQTTä¸‹å‘åˆ°è®¾å¤‡<br>
                        â€¢ åœ¨çº¿çŠ¶æ€æ¯åˆ†é’Ÿè‡ªåŠ¨æ›´æ–°
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentDevice = null;
        let currentProduct = null;

        // é¡µé¢åŠ è½½æ—¶è·å–è®¾å¤‡IDå¹¶åŠ è½½æ•°æ®
        window.onload = function() {
            const params = new URLSearchParams(window.location.search);
            const deviceId = parseInt(params.get('id'));
            
            if (!deviceId) {
                alert('âŒ è®¾å¤‡IDä¸å­˜åœ¨');
                window.location.href = 'device-list.html';
                return;
            }
            
            loadDevice(deviceId);
        };

        // åŠ è½½è®¾å¤‡æ•°æ®
        function loadDevice(id) {
            const devicesData = localStorage.getItem('iot_devices');
            if (!devicesData) {
                alert('âŒ æœªæ‰¾åˆ°è®¾å¤‡æ•°æ®');
                window.location.href = 'device-list.html';
                return;
            }
            
            const devices = JSON.parse(devicesData);
            currentDevice = devices.find(d => d.id === id);
            
            if (!currentDevice) {
                alert('âŒ è®¾å¤‡ä¸å­˜åœ¨');
                window.location.href = 'device-list.html';
                return;
            }
            
            // åŠ è½½å¯¹åº”çš„äº§å“ä¿¡æ¯
            loadProductInfo();
            
            renderDevice();
        }

        // åŠ è½½äº§å“ä¿¡æ¯ï¼ˆè·å–å±æ€§å’Œå‘½ä»¤ï¼‰
        function loadProductInfo() {
            const productsData = localStorage.getItem('iot_products');
            if (productsData) {
                const products = JSON.parse(productsData);
                currentProduct = products.find(p => p.name === currentDevice.product);
            }
        }

        // æ¸²æŸ“è®¾å¤‡ä¿¡æ¯
        function renderDevice() {
            // æ›´æ–°é¡µé¢æ ‡é¢˜å’Œé¢åŒ…å±‘
            document.getElementById('deviceName').textContent = currentDevice.name;
            document.getElementById('pageTitle').textContent = currentDevice.name;
            
            // åŸºæœ¬ä¿¡æ¯
            document.getElementById('info_name').textContent = currentDevice.name;
            document.getElementById('info_code').textContent = currentDevice.code;
            document.getElementById('info_product').textContent = currentDevice.product;
            document.getElementById('info_group').textContent = currentDevice.group;
            
            const statusHtml = currentDevice.status === 'online' ? 
                '<span class="badge badge-success">åœ¨çº¿</span>' : 
                '<span class="badge badge-danger">ç¦»çº¿</span>';
            document.getElementById('info_status').innerHTML = statusHtml;
            document.getElementById('info_lastOnline').textContent = currentDevice.lastOnline;
            
            // æ¸²æŸ“å®æ—¶æ•°æ®
            renderRealtimeData();
            
            // æ¸²æŸ“å‘½ä»¤åˆ—è¡¨
            renderCommands();
        }

        // æ¸²æŸ“å®æ—¶æ•°æ®
        function renderRealtimeData() {
            const container = document.getElementById('realtimeData');
            document.getElementById('updateTime').textContent = new Date().toLocaleString('zh-CN');
            
            if (!currentProduct || !currentProduct.attrs || currentProduct.attrs.length === 0) {
                container.innerHTML = '<div class="empty-state">è¯¥è®¾å¤‡äº§å“æš‚æ— å±æ€§å®šä¹‰</div>';
                return;
            }
            
            // æ¨¡æ‹Ÿå®æ—¶æ•°æ®ï¼ˆå®é™…åº”ä»æœåŠ¡å™¨è·å–ï¼‰
            const mockData = {
                'tem': 22.5,
                'hum': 65,
                'window': 0,
                'battery': 85,
                'lock_status': 1
            };
            
            container.innerHTML = currentProduct.attrs.map(attr => {
                const value = mockData[attr.identifier] !== undefined ? mockData[attr.identifier] : '-';
                let displayValue = value;
                
                // å¤„ç†å¸ƒå°”å€¼æ˜¾ç¤º
                if (attr.type === 'bool' || attr.type === 'int') {
                    if (attr.identifier.includes('window')) {
                        displayValue = value == 1 ? 'æ‰“å¼€' : 'å…³é—­';
                    } else if (attr.identifier.includes('lock')) {
                        displayValue = value == 1 ? 'å·²é”å®š' : 'å·²è§£é”';
                    }
                }
                
                return `
                    <div class="data-card">
                        <div class="data-card-label">${attr.name}</div>
                        <div class="data-card-value">
                            ${displayValue}
                            ${attr.unit ? `<span class="data-card-unit">${attr.unit}</span>` : ''}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // æ¸²æŸ“å‘½ä»¤åˆ—è¡¨
        function renderCommands() {
            const container = document.getElementById('commandList');
            
            if (!currentProduct || !currentProduct.cmds || currentProduct.cmds.length === 0) {
                container.innerHTML = '<div class="empty-state">è¯¥è®¾å¤‡äº§å“æš‚æ— å¯ç”¨å‘½ä»¤</div>';
                return;
            }
            
            container.innerHTML = currentProduct.cmds.map(cmd => `
                <button class="cmd-btn" onclick="sendCommand('${cmd.name}', '${cmd.attr}', '${cmd.value}')">
                    ${cmd.name}
                </button>
            `).join('');
        }

        // Tabåˆ‡æ¢
        function switchTab(tab) {
            document.querySelectorAll('.tab-item').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-pane').forEach(p => p.classList.remove('active'));
            
            event.target.classList.add('active');
            
            const panes = {
                'realtime': 'realtimePane',
                'history': 'historyPane',
                'command': 'commandPane'
            };
            
            document.getElementById(panes[tab]).classList.add('active');
        }

        // åˆ‡æ¢å†å²æ•°æ®è§†å›¾æ¨¡å¼
        function switchViewMode(mode) {
            const tableView = document.getElementById('tableView');
            const chartView = document.getElementById('chartView');
            
            if (mode === 'table') {
                tableView.style.display = 'block';
                chartView.style.display = 'none';
            } else {
                tableView.style.display = 'none';
                chartView.style.display = 'block';
            }
        }

        // å‘é€å‘½ä»¤
        function sendCommand(cmdName, attr, value) {
            if (currentDevice.status !== 'online') {
                alert('âš ï¸ è®¾å¤‡ç¦»çº¿ï¼Œæ— æ³•ä¸‹å‘å‘½ä»¤');
                return;
            }
            
            if (confirm(`ç¡®å®šè¦æ‰§è¡Œå‘½ä»¤"${cmdName}"å—ï¼Ÿ\n\nå°†è®¾ç½® ${attr} = ${value}`)) {
                // æ¨¡æ‹ŸMQTTå‘½ä»¤ä¸‹å‘
                const mqttTopic = `ssc/${currentDevice.code}/command`;
                const mqttPayload = {
                    cmd: attr,
                    value: value,
                    timestamp: new Date().getTime()
                };
                
                console.log('MQTTä¸‹å‘å‘½ä»¤:', mqttTopic, mqttPayload);
                alert(`âœ… å‘½ä»¤å·²ä¸‹å‘\n\nTopic: ${mqttTopic}\nPayload: ${JSON.stringify(mqttPayload, null, 2)}`);
                
                // åˆ·æ–°å®æ—¶æ•°æ®
                setTimeout(() => {
                    renderRealtimeData();
                }, 1000);
            }
        }

        // æŸ¥è¯¢å†å²æ•°æ®
        function queryHistory() {
            const startTime = document.getElementById('startTime').value;
            const endTime = document.getElementById('endTime').value;
            
            if (!startTime || !endTime) {
                alert('è¯·é€‰æ‹©æŸ¥è¯¢æ—¶é—´èŒƒå›´');
                return;
            }
            
            alert(`ğŸ” æŸ¥è¯¢å†å²æ•°æ®

æ—¶é—´èŒƒå›´: ${startTime} ~ ${endTime}

æ­£å¼ç‰ˆå°†ä»æ•°æ®åº“æŸ¥è¯¢`);
        }

        // å¯¼å‡ºå†å²æ•°æ®
        function exportHistory() {
            alert('ğŸ“Š å¯¼å‡ºå†å²æ•°æ®\n\næ­£å¼ç‰ˆå°†å¯¼å‡ºä¸ºExcelæ–‡ä»¶');
        }

        // è¿”å›åˆ—è¡¨
        function goBack() {
            window.location.href = 'device-list.html';
        }
    </script>
</body>
</html>
